!function(t){var e={};function a(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e){const a=t=>[...Array(t)].map((t,e)=>e),i="idle",s="dying",n="jumping",o="walking",r="running",l={w:"jump",a:"left",s:"crouch",d:"right",q:"attack",e:"SWORD"},m="paused",h="started",d="ended",p=0,c=720,g=1280,u={y:c-100},y=.4,x=.5,P=g-400,F=15,_="Zorque",w="images/Balloons/Balloons_01_64x64_Alt_00_004.png",I="images/Balloons/Balloons_01_64x64_Alt_00_005.png",v="images/Balloons/Balloons_01_64x64_Alt_00_006.png",A="images/Balloons/Balloons_01_64x64_Alt_00_007.png",b="images/Balloons/Balloons_01_64x64_Alt_01_004.png",S="images/Balloons/Balloons_01_64x64_Alt_01_005.png",f="images/Balloons/Balloons_01_64x64_Alt_01_006.png",k="images/Balloons/Balloons_01_64x64_Alt_01_007.png",M="images/Balloons/Balloons_01_64x64_Alt_02_004.png",B="images/Balloons/Balloons_01_64x64_Alt_02_005.png",C="images/Balloons/Balloons_01_64x64_Alt_02_006.png",R="images/Balloons/Balloons_01_64x64_Alt_02_007.png",E="images/Balloons/Balloons_01_64x64_Alt_03_004.png",O="images/Balloons/Balloons_01_64x64_Alt_03_005.png",D="images/Balloons/Balloons_01_64x64_Alt_03_006.png",T="images/Balloons/Balloons_01_64x64_Alt_03_007.png",L="images/Balloons/Balloons_01_64x64_Alt_04_004.png",V="images/Balloons/Balloons_01_64x64_Alt_04_005.png",j="images/Balloons/Balloons_01_64x64_Alt_04_006.png",K="images/Balloons/Balloons_01_64x64_Alt_04_007.png",$=["images/fire/File",30],z=["images/Terror/idle/2_terrorist_2_Idle_00",8],H=["images/Terror/hurt/2_terrorist_2_Hurt_00",9],G=["images/Terror/run/2_terrorist_2_Run_00",6],N=["images/Terror/jump/2_terrorist_2_Jump_00",8],U={randomColor:()=>`rgba(${~~(255*Math.random())}, ${~~(255*Math.random())}, ${~~(255*Math.random())}, ${Math.random()})`,getPlayerFromKey:t=>l.indexOf(t),random:(t=0,e=1)=>Math.round(t+Math.random()*(e-t)),updateText:(t,e)=>{t.innerText=e},newCanvas:t=>{const e=document.createElement("canvas");return[e.height,e.width]=[c,g],t.appendChild(e),e},newImageFromPath:t=>{const e=document.createElement("img");return e.src=t,e},lt:(t,e)=>t<e,gt:(t,e)=>t>e,newImagesFromPath:([t,e])=>a(e).map(e=>U.newImageFromPath(`${t}${e}.png`)),flip:t=>(...e)=>t(e.reverse()),wait:t=>new Promise((e,a)=>setTimeout(e,t)),isObject:t=>t instanceof Object&&t.constructor===Object&&!Array.isArray(t),modulus:(t,e)=>(t%e+e)%e,mergeProps:function t(e,a){return Object.keys(a).reduce((e,i)=>(e[i]=U.isObject(a[i])?t(e[i]||{},a[i]):a[i],e),e)},mergeFunctions:(t,e,a)=>{const i=e[t];return e[t]=function(...s){return i&&i.call(e,...s),a[t].call(e,...s)},e},setState:(t,e)=>(U.mergeProps(t.state,e),t),vectorAdd:(t,e)=>({x:t.x+e.x,y:t.y+e.y}),vectorAddC:t=>e=>U.vectorAdd(t,e),vectorSubstract:(t,e)=>({x:t.x-e.x,y:t.y-e.y}),vectorSubstractC:t=>e=>U.vectorSubstract(t,e),vectorDot:(t,e)=>t.x*e.x+t.y*e.y,vectorLength:t=>Math.sqrt(t.x*t.x+t.y*t.y),normalize:t=>{var e=1/U.vectorLength(t);return{x:t.x*e,y:t.y*e}},vectorMultiply:(t,e)=>({x:t.x*e,y:t.y*e}),vectorMax:(t,e)=>({x:void 0!==e.x?Math.min(t.x,e.x):t.x,y:void 0!==e.y?Math.min(t.y,e.y):t.y}),vectorMaxC:t=>e=>U.vectorMax(e,t),vectorMin:(t,e)=>({x:void 0!==e.x?Math.max(t.x,e.x):t.x,y:void 0!==e.y?Math.max(t.y,e.y):t.y}),vectorMinC:t=>e=>U.vectorMin(e,t),vectorGT:(t,e)=>Math.abs(t.x)>=e||Math.abs(t.y)>=e,vectorLT:(t,e)=>Math.abs(t.x)<=e||Math.abs(t.y)<=e},q=(t,e)=>Object.keys(e).reduce((t,a)=>"update"===a?U.mergeFunctions(a,t,e):(t[a]=["state","props"].includes(a)?U.mergeProps(t[a]||{},e[a]):e[a],t),t),J=(t,e)=>{const a={};return t.reduce(q,a),q(a,e)},W={gameArea:document.getElementById("game-area"),pop:document.getElementById("pop"),hadouken:document.getElementById("hadouken"),lose:document.getElementById("lose"),killingspree:document.getElementById("killingspree"),danger:document.getElementById("danger"),rampage:document.getElementById("rampage"),ownage:document.getElementById("ownage"),unstoppable:document.getElementById("unstoppable"),godlike:document.getElementById("godlike"),theme:document.getElementById("theme")},X={state:{position:{x:0,y:0},display:!0,width:0,height:0,animation:{name:i,flipped:!1,index:0,framesSkipped:0,repeatCount:0,duplicateCount:0}},props:{zIndex:0,animations:{[i]:{images:[],imagesFlipped:[],duplicate:0,delay:0,repeat:0}}},update:function(){},resetAnimation(){return U.setState(this,{animation:{index:0,framesSkipped:0,repeatCount:0}})},getBoundingRect(){return{x1:this.state.position.x,x2:this.state.position.x+this.getCurrentAnimationFrame().width,y1:this.state.position.y-this.getCurrentAnimationFrame().height,y2:this.state.position.y}},getCurrentAnimationFrame(){return this.getAnimationFrameAt(this.getAnimationIndex())},getCurrentAnimation(){const t=this.props.animations[this.state.animation.name];return this.state.animation.flipped?t.imagesFlipped:t.images},getAnimationIndex(){return this.state.animation.index},getAnimationFrameAt(t){const e=this.getCurrentAnimation();return e[t%e.length]},getAnimationProp(t){const e=this.state.animation[t],a=this.props.animations[this.state.animation.name][t];if(void 0!==e)return e;if(void 0!==a)return a;throw Error("Invalid Property")},setAnimationProp(t,e){return this.state.animation[t]=e,this},setAnimationIndex(t){return t>=this.getCurrentAnimation().length-1&&this.incAnimationProp("repeatCount"),this.isAnimationDone()?(this.state.animation.index=this.getCurrentAnimation().length-1,this):(this.state.animation.index=t%this.getCurrentAnimation().length,this)},incAnimationProp(t){return"index"===t?this.incAnimationIndex():this.setAnimationProp(t,this.getAnimationProp(t)+1)},incAnimationIndex(){return this.setAnimationIndex(this.getAnimationIndex()+1)},isAnimationDone(){return this.getAnimationProp("repeatCount")>=this.getAnimationProp("repeat")},nextFrame(t=!1,e){t&&this.resetAnimation();const a=this.getAnimationFrameAt(this.getAnimationIndex());return(()=>(this.incAnimationProp("framesSkipped"),this.getAnimationProp("framesSkipped")<this.getAnimationProp("delay")?a:(this.setAnimationProp("framesSkipped",0).incAnimationIndex(),a)))(),a},reset(){return this.update(!0),U.setState(this,{animation:{name:i}}).resetAnimation()},drawParallaxLayer(t,e){const a=this.getAnimationFrameAt(this.getAnimationIndex()),i=U.modulus(-e.x,a.width),s=Math.min(a.width-i,g),n=!!this.getAnimationProp("duplicate");if(this.getAnimationProp("duplicateCount")>this.getAnimationProp("duplicate"))return 0===i&&(this.state.display=!1),t.drawImage(a,-i,e.y),this;if(n&&0===i&&this.incAnimationProp("duplicateCount"),t.drawImage(a,i,e.y,s,c,0,0,s,c),s<g){const i=g-s;t.drawImage(a,0,e.y,i,c,s,0,i,c)}return this},nextPosition(t){return U.vectorSubstract(this.state.position,t.position)},drawParticle(t,e){const a=this.nextPosition(e);if(this.state.radius<=0)return this;t.beginPath(),t.arc(a.x,a.y,this.state.radius,0,2*Math.PI,!1),t.fillStyle=`hsla(${this.state.hue}, 100%, 50%, 1)`,t.fill()},drawImage(t,e){if("particle"===this.props.name)return this.drawParticle(t,e);if(!this.state.display)return this;const a=this.nextPosition(e);if(this.getBoundingRect(),this.getAnimationProp("duplicate"))this.drawParallaxLayer(t,a);else{const e=this.nextFrame(!1);if(!e)return this;"ball"===this.props.name||this.props.name,t.drawImage(e,a.x,a.y-this.getCurrentAnimationFrame().height)}return this},render(t,e){return this.update(),this.drawImage(t,e)}},Y={state:{particleOrigin:{x:0,y:0},maxRadius:100,minRadius:5,particleCount:0,hue:0},props:{targetParticles:25},emitParticles(t){this.state.particleCount++,this.state.hue=Math.floor(360*Math.random());const e=yt(this.state.particleOrigin,this.state.hue,Math.random()*(this.state.maxRadius-this.state.minRadius)+this.state.minRadius);this.state.addRenderable(`PARTICLE${Math.random()} * 1000000`,e),console.log(this.state.hue)},update(){if(!this.state.particleCount)return this;this.state.particleCount++;const t=yt(this.state.particleOrigin,this.state.hue,Math.random()*(this.state.maxRadius-this.state.minRadius)+this.state.minRadius);this.state.addRenderable(`PARTICLE${Math.random()} * 1000000`,t),this.state.particleCount>=this.props.targetParticles&&U.setState(this,Y.state)}},Z={state:{attacking:!1,superAttack:!1},props:{animations:{attack:{repeat:1}}},attack(t=!1){return U.setState(this,{attacking:!0,superAttack:t,animation:{name:"attack"}}).resetAnimation()},update(t=!1){const e=()=>U.setState(this,{...Z.state,animation:{name:i}}).resetAnimation();return t?e():this.state.attacking&&this.isAnimationDone()?e():this}},Q={state:{dying:!1,dead:!1,deadCount:0},props:{animations:{[s]:{images:[],delay:0,repeat:1}}},die(){return"ball"===this.props.name&&this.state.incrementScore(),U.setState(this,{dying:!0,animation:{name:s},acceleration:{y:1,x:0},velocity:{y:10,x:0}}).resetAnimation()},update(t=!1){return t?U.setState(this,Q.state):this.state.dying||this.state.dead?("ball"===this.props.name&&this.state.dead&&++this.state.deadCount>120&&U.setState(this,{display:!1}),this.isAnimationDone()?U.setState(this,{dead:!0}):this):this}},tt={update(){if(this.state.dying||this.state.dead)return this;if(U.vectorGT(this.state.velocity,40)){const t={x:this.state.position.x+this.getCurrentAnimationFrame().width/2,y:this.state.position.y-this.getCurrentAnimationFrame().height/2};U.setState(this,{maxRadius:10,minRadius:1,addRenderable:this.state.addRenderable,particleOrigin:{...t}}),this.emitParticles(),this.die()}}},et={state:{velocity:{x:0,y:0}},props:{runningVelocity:{x:10,y:0},animations:{[o]:{name:o,images:[],delay:0,repeat:1/0,duplicate:0},[r]:{name:r,images:[],delay:0,repeat:1/0,duplicate:0},[n]:{name:n,images:[],delay:0,repeat:1/0,duplicate:0}},maxVelocity:{x:5,y:5},minVelocity:{x:-5,y:-5}},update(){const t=this.state.velocity;return this.state.attacking||"ball"===this.props.name||this.state.dying||(0===t.x?[o,r].includes(this.state.animation.name)&&U.setState(this,{animation:{name:i}}).resetAnimation():(this.props.animations[o].images.length&&U.setState(this,{animation:{name:o}}),this.props.animations[r].images.length&&t.x>=this.props.runningVelocity.x&&U.setState(this,{animation:{name:r}})),0===t.y?this.state.animation.name===n&&U.setState(this,{animation:{name:i}}).resetAnimation():this.props.animations.jumping.images.length&&U.setState(this,{animation:{name:n}})),U.setState(this,{position:this.getNextPosition()})},getNextPosition(){const t=U.vectorAdd(this.state.position,this.state.velocity);return U.vectorMax(t,u)}},at={state:{slowDown:!1,acceleration:{x:0,y:0}},stopMovingX(){return U.setState(this,{velocity:{x:0},acceleration:{x:0},slowDown:!1})},updateVelocities(){const t=u.y===this.state.position.y;t||(this.state.acceleration.y=y);const e=((...t)=>e=>t.reduceRight((t,e)=>e(t),e))(U.vectorMinC(this.props.minVelocity),U.vectorMaxC(this.props.maxVelocity),U.vectorAddC(this.state.acceleration))(this.state.velocity);return t&&this.state.velocity.y>0&&(e.y=this.state.acceleration.y=0),(this.state.dying||this.state.dead)&&(e.x=0),U.setState(this,{velocity:e})},updateFlip(t){const e=this.state.velocity;0!==e.x&&0!==t.x&&this.setAnimationProp("flipped",e.x<0)},shouldStopSlowingDown(){return this.state.acceleration.x>0&&this.state.velocity.x>=0||this.state.acceleration.x<0&&this.state.velocity.x<=0},updateSlowDown(){return this.state.slowDown&&this.shouldStopSlowingDown()&&this.stopMovingX(),this},update(){return this.updateVelocities().updateSlowDown().updateFlip(this.state.velocity)}},it={props:{blocks:!0,damages:!1,elasticity:0,mass:100}},st={props:{zIndex:9,animations:{[i]:{images:[],delay:1/0,repeat:1/0},exploding:{images:[],delay:10,repeat:3}}},state:{animation:{name:i},display:!1,exploding:!1},explode(){this.resetAnimation(),U.setState(this,{exploding:!0,velocity:{x:0},animation:{name:"exploding"}})},update(t){if(t)return(()=>U.setState(this,st.state).resetAnimation())()}},nt=J([X],{state:{animation:{name:i},width:g,height:c},props:{zIndex:-1,animations:{[i]:{images:[U.newImageFromPath("images/Background Layers/Ground.png")],duplicate:1/0,delay:1/0,repeat:1/0}}}}),ot=J([X],{state:{animation:{name:i},width:g,height:c},props:{zIndex:-10,animations:{[i]:{images:[U.newImageFromPath("images/Background Layers/Sky.png")],duplicate:1/0,delay:1/0,repeat:1/0}}}}),rt=J([X,et],{state:{velocity:{x:-2},animation:{name:i,duplicateCount:0}},props:{zIndex:-9,animations:{[i]:{images:[U.newImageFromPath("images/Background Layers/Clouds.png")],delay:1/0,duplicate:1/0,repeat:1/0}}}}),lt={update(){if(this.state.dying||this.state.dead)return this;U.vectorLT(this.state.velocity,10)&&U.setState(this,{animation:{name:i}}),U.vectorGT(this.state.velocity,20)&&U.setState(this,{animation:{name:o}}),U.vectorGT(this.state.velocity,40)&&U.setState(this,{animation:{name:n}}),U.vectorGT(this.state.velocity,50)&&U.setState(this,{animation:{name:r}})}},mt={props:{name:"ball",elasticity:.2,mass:200,zIndex:1,runningVelocity:{x:20,y:20},maxVelocity:{x:150,y:150},minVelocity:{x:-50,y:-50},animations:{[i]:{images:[U.newImageFromPath(w)],imagesFlipped:[U.newImageFromPath(w)],delay:20,repeat:1/0,duplicate:0},[o]:{images:[U.newImageFromPath(v)],imagesFlipped:[U.newImageFromPath(v)],delay:20,repeat:1/0,duplicate:0},[r]:{images:[U.newImageFromPath(A)],imagesFlipped:[U.newImageFromPath(A)],delay:20,repeat:1/0,duplicate:0},[n]:{images:[U.newImageFromPath(I)],imagesFlipped:[U.newImageFromPath(I)],delay:20,repeat:1/0,duplicate:0},[s]:{images:U.newImagesFromPath($),imagesFlipped:U.newImagesFromPath($),delay:10,repeat:3,duplicate:0}}}},ht={props:{name:"ball",elasticity:.9,mass:40,zIndex:1,runningVelocity:{x:20,y:20},maxVelocity:{x:50,y:50},minVelocity:{x:-50,y:-50},animations:{[i]:{images:[U.newImageFromPath(b)],imagesFlipped:[U.newImageFromPath(b)],delay:20,repeat:1/0,duplicate:0},[o]:{images:[U.newImageFromPath(f)],imagesFlipped:[U.newImageFromPath(f)],delay:20,repeat:1/0,duplicate:0},[r]:{images:[U.newImageFromPath(k)],imagesFlipped:[U.newImageFromPath(k)],delay:20,repeat:1/0,duplicate:0},[n]:{images:[U.newImageFromPath(S)],imagesFlipped:[U.newImageFromPath(S)],delay:20,repeat:1/0,duplicate:0},[s]:{images:U.newImagesFromPath($),imagesFlipped:U.newImagesFromPath($),delay:3,repeat:10,duplicate:0}}}},dt={props:{name:"ball",elasticity:.7,mass:840,zIndex:1,runningVelocity:{x:20,y:20},maxVelocity:{x:150,y:150},minVelocity:{x:-50,y:-50},animations:{[i]:{images:[U.newImageFromPath(M)],imagesFlipped:[U.newImageFromPath(M)],delay:20,repeat:1/0,duplicate:0},[o]:{images:[U.newImageFromPath(C)],imagesFlipped:[U.newImageFromPath(C)],delay:20,repeat:1/0,duplicate:0},[r]:{images:[U.newImageFromPath(R)],imagesFlipped:[U.newImageFromPath(R)],delay:20,repeat:1/0,duplicate:0},[n]:{images:[U.newImageFromPath(B)],imagesFlipped:[U.newImageFromPath(B)],delay:20,repeat:1/0,duplicate:0},[s]:{images:U.newImagesFromPath($),imagesFlipped:U.newImagesFromPath($),delay:10,repeat:3,duplicate:0}}}},pt={props:{name:"ball",elasticity:.1,mass:440,zIndex:1,runningVelocity:{x:20,y:20},maxVelocity:{x:150,y:150},minVelocity:{x:-50,y:-50},animations:{[i]:{images:[U.newImageFromPath(E)],imagesFlipped:[U.newImageFromPath(E)],delay:20,repeat:1/0,duplicate:0},[o]:{images:[U.newImageFromPath(D)],imagesFlipped:[U.newImageFromPath(D)],delay:20,repeat:1/0,duplicate:0},[r]:{images:[U.newImageFromPath(T)],imagesFlipped:[U.newImageFromPath(T)],delay:20,repeat:1/0,duplicate:0},[n]:{images:[U.newImageFromPath(O)],imagesFlipped:[U.newImageFromPath(O)],delay:20,repeat:1/0,duplicate:0},[s]:{images:U.newImagesFromPath($),imagesFlipped:U.newImagesFromPath($),delay:10,repeat:3,duplicate:0}}}},ct={props:{name:"ball",elasticity:.2,mass:240,zIndex:1,runningVelocity:{x:20,y:20},maxVelocity:{x:150,y:150},minVelocity:{x:-50,y:-50},animations:{[i]:{images:[U.newImageFromPath(L)],imagesFlipped:[U.newImageFromPath(L)],delay:20,repeat:1/0,duplicate:0},[o]:{images:[U.newImageFromPath(j)],imagesFlipped:[U.newImageFromPath(j)],delay:20,repeat:1/0,duplicate:0},[r]:{images:[U.newImageFromPath(K)],imagesFlipped:[U.newImageFromPath(K)],delay:20,repeat:1/0,duplicate:0},[n]:{images:[U.newImageFromPath(V)],imagesFlipped:[U.newImageFromPath(V)],delay:20,repeat:1/0,duplicate:0},[s]:{images:U.newImagesFromPath($),imagesFlipped:U.newImagesFromPath($),delay:10,repeat:3,duplicate:0}}}},gt=J([X,et,at,Z,Q,it,Y],{props:{blocks:!0,zIndex:1,elasticity:.2,mass:500,radius:125,maxVelocity:{x:200,y:5},minVelocity:{x:-200,y:-5},animations:{[i]:{images:U.newImagesFromPath(["images/Player/1_IDLE_00",5]),imagesFlipped:U.newImagesFromPath(["images/Player Flip/1_IDLE_00",5]),delay:8,repeat:1/0,duplicate:0},[o]:{images:U.newImagesFromPath(["images/Player/2_WALK_00",5]),imagesFlipped:U.newImagesFromPath(["images/Player Flip/2_WALK_00",5]),delay:4,repeat:1/0,duplicate:0},[r]:{images:U.newImagesFromPath(["images/Player/3_RUN_00",5]),imagesFlipped:U.newImagesFromPath(["images/Player Flip/3_RUN_00",5]),delay:4,repeat:1/0,duplicate:0},[n]:{images:U.newImagesFromPath(["images/Player/4_JUMP_00",5]),imagesFlipped:U.newImagesFromPath(["images/Player Flip/4_JUMP_00",5]),delay:8,repeat:1/0,duplicate:0},attack:{images:U.newImagesFromPath(["images/Player/5_ATTACK_00",5]),imagesFlipped:U.newImagesFromPath(["images/Player Flip/5_ATTACK_00",5]),delay:4,repeat:1,duplicate:0},[s]:{images:U.newImagesFromPath(["images/Player/7_DIE_00",5]),imagesFlipped:U.newImagesFromPath(["images/Player Flip/7_DIE_00",5]),delay:4,repeat:1,duplicate:0}}},state:{health:100,animation:{name:i},position:{x:g/5,y:c-400},hadouken:0},update(){return this.state.position.x<0?U.setState(this,{position:{x:0},velocity:{x:0}}):this},doMove(t){return U.setState(this,{slowDown:!1,acceleration:{x:"left"===t?-1:1}})},stopMove(t){return U.setState(this,{slowDown:!0,acceleration:{x:-Math.sign(this.state.velocity.x)*x}}),this},doJump(){const t=this.state.position.y===u.y,e=this.state.velocity.y>0&&this.state.velocity.y<10;return(t||e)&&(this.state.velocity.y-=80),this},doAttack(t,e,a){if(this.attack(t),!t)return this;a&&a();const i={x:this.state.position.x+this.getCurrentAnimationFrame().width/2,y:this.state.position.y-this.getCurrentAnimationFrame().height/2};return U.setState(this,{addRenderable:e,particleOrigin:{...i}}),this.emitParticles(),this},handleAction(t,e,a){switch(t){case"left":case"right":this.doMove(t);break;case"attack":this.state.hadouken&&(this.doAttack(!0,e,a),this.state.hadouken--);break;case"SWORD":this.doAttack(!1)}},handleActionStop(t){switch(t){case"left":case"right":this.stopMove(t);break;case"jump":this.doJump()}}}),ut={state:{position:{x:0,y:0},velocity:{x:0,y:0},radius:5,hue:0},props:{name:"particle",zIndex:10},update(){this.state.position=U.vectorAdd(this.state.position,this.state.velocity),this.state.radius-=.5,this.state.hue-=1,this.state.radius<=0&&U.setState(this,{display:!1})}},yt=(t,e,a)=>J([X,ut],{state:{position:{x:t.x,y:t.y},velocity:{x:40*Math.random()-20,y:40*Math.random()-20},hue:e,radius:a}}),xt=(J([X,et,at,Q,it],{props:{name:"playerTwo",blocks:!0,damages:10,mass:300,elasticity:.3,zIndex:1,animations:{[i]:{images:U.newImagesFromPath(z),imagesFlipped:U.newImagesFromPath(z),delay:5,repeat:1/0},[s]:{images:U.newImagesFromPath(H),imagesFlipped:U.newImagesFromPath(H),delay:5,repeat:1},[o]:{images:U.newImagesFromPath(G),imagesFlipped:U.newImagesFromPath(G),delay:4,repeat:1/0},[r]:{images:U.newImagesFromPath(G),imagesFlipped:U.newImagesFromPath(G),delay:4,repeat:1/0},[n]:{images:U.newImagesFromPath(N),imagesFlipped:U.newImagesFromPath(N),delay:4,repeat:1/0}}},state:{animation:{name:i},position:{x:g/1.5,y:c-800},velocity:{x:-.5,y:0}}}),J([X,et,st,{}],{}),{position:{x:0,y:0},target:gt,update(){const t=this.target.state.position.x-this.position.x;t>P?this.position.x+=t-P:t<200&&(this.position.x-=200-t),this.position.x=Math.max(0,this.position.x)}});(()=>{const t={Ground:nt,Sky:ot,Clouds:rt,[p]:gt};document.fonts.load(`10pt "${_}"`);new class{constructor(t){this.state={game:m,score:0,camera:xt,renderables:{...t},balls:0},W.canvas=U.newCanvas(W.gameArea),this.ctx=W.canvas.getContext("2d"),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.animationLoop=this.animationLoop.bind(this),this.addRenderable=this.addRenderable.bind(this),this.incrementScore=this.incrementScore.bind(this),this.playHadoukenSound=this.playHadoukenSound.bind(this),W.theme.loop=!0,W.theme.load();const e=()=>{document.removeEventListener("click",e),document.getElementById("game-area").style.display="block",document.querySelector(".card").style.display="none",W.theme.play(),this.animationLoop(),this.setGameState(h).captureKeys()};document.addEventListener("click",e)}playDangerSound(){W.danger.cloneNode(!0).play()}getHadoukenCount(){return this.getPlayer().state.hadouken}incHadoukenCount(){return this.getPlayer().state.hadouken++,this}animationLoop(){this.cleanUpDead();const t=Math.max(this.getScore(),200),e=this.state.balls<t&&20*Math.random()+1>=20,i=50*Math.random()+1>=50;if(e){i&&this.playDangerSound();const t=i?Math.abs(20):~~(Math.random()*Math.max(2,this.getScore()/50)+1);a(t).forEach(()=>{const t=[mt,ht,dt,pt,ct],e=~~(Math.random()*(t.length-1));this.addBall(t[e],1e5*Math.random())})}this.handleAllCollisions(),this.state.camera.update(),this.getSortedRenderables().forEach(t=>t.render(this.ctx,this.state.camera)),this.getHealth()<=0&&!this.gameStateIs(d)&&(this.state.renderables[p].die(),this.ignoreKeys(),this.setGameState(d)),this.renderInfoBar(),window.requestAnimationFrame(this.animationLoop)}cleanUpDead(){Object.entries(this.state.renderables).forEach(([t,e])=>{if(!e.state.display)return"ball"===e.props.name&&this.state.balls--,void delete this.state.renderables[t];"ball"===e.props.name&&Math.abs(e.state.position.x-this.state.camera.position.x)>5*g&&(this.state.balls--,delete this.state.renderables[t])})}getHealth(){return this.state.renderables[p].state.health}incHealth(){this.playPopSound(),this.state.renderables[p].state.health=Math.min(this.state.renderables[p].state.health+.25,100)}renderGameOver(){return this.ctx.font=`48px "${_}"`,this.ctx.globalAlpha=1,this.ctx.fillStyle="#dc2f4c",this.ctx.textAlign="center",this.ctx.fillText("NOW YOU HAVE TO START FROM THE BEGINNING.",g/2,c/2),this}renderInfoBar(){if(this.gameStateIs(d))return this.renderGameOver();this.ctx.font=`48px "${_}"`,this.ctx.globalAlpha=1;const t=~~this.getHealth(),e=`hsl(${120*(1-(100-t)/100)}, 100%, 50%)`;return this.ctx.fillStyle=e,this.ctx.fillText(`Health: ${t}`,50,50),this.ctx.fillStyle="#fff",this.ctx.fillText(`Score: ${this.getScore()}`,50,100),this.ctx.fillText(`Spawns: ${this.state.balls}`,g-350,50),this.ctx.fillText(`Super: ${this.getHadoukenCount()}`,g-350,100),this}addRenderable(t,e){this.state.renderables[t]=e}handleKeyDown(t){return Object.keys(l).includes(t.key)&&(t=>this.gameStateIs(h)?this.state.renderables[p].handleAction(t,this.addRenderable,this.playHadoukenSound):this)(l[t.key]),this}handleKeyUp(t){return Object.keys(l).includes(t.key)&&(t=>this.gameStateIs(h)?this.state.renderables[p].handleActionStop(t):this)(l[t.key]),this}doAttack(t){return this}getPlayer(){return this.state.renderables[p]}collisionFormula(t,e,a,i){return(t*(a-i)+2*i*e)/(a+i)}handleCollision(t,e,a){if(t.state.dying||e.state.dying||t.state.dead||e.state.dead)return this;const i=e.state.position,s=t.state.position,n=t.props.radius||t.getCurrentAnimationFrame().width/2,o=e.props.radius||e.getCurrentAnimationFrame().width/2,r=e.state.velocity,l=t.state.velocity,m=e.props.mass,h=t.props.mass,d=Math.min(e.props.elasticity,t.props.elasticity),p={x:i.x-s.x,y:i.y-s.y},c=n+o,g=U.vectorLength(p);if(g>c)return this;const u=m+h;[t.props.name||e.props.name].includes("Floor");const y=U.normalize(p),x={x:y.y,y:-y.x},P=U.vectorMultiply(y,n+o-g);e.state.position=U.vectorAdd(i,U.vectorMultiply(P,h/u)),t.state.position=U.vectorAdd(s,U.vectorMultiply(P,-m/u));const F=U.vectorLength(U.vectorMultiply(y,U.vectorDot(r,y))),_=U.vectorLength(U.vectorMultiply(y,U.vectorDot(l,y)));return t.state.velocity=U.vectorAdd(U.vectorMultiply(x,U.vectorDot(l,x)),U.vectorMultiply(y,(d*m*(F-_)+h*_+m*F)/u)),e.state.velocity=U.vectorAdd(U.vectorMultiply(x,U.vectorDot(r,x)),U.vectorMultiply(y,(d*h*(_-F)+m*F+h*_)/u)),a&&(this.getPlayer().state.superAttack&&(this.getPlayer().state.velocity.y=-10),e.state.velocity=U.vectorMultiply(e.state.velocity,a)),[t,e].includes(this.getPlayer())&&!this.getPlayer().state.attacking&&[t,e].forEach(t=>{t===this.getPlayer()&&(t.state.health-=1)}),this}handleAllCollisions(){const t=[...this.getAllBodies()];return t.forEach((e,a)=>{t.slice(a+1).forEach(t=>this.handleCollision(e,t))}),t.filter(t=>t!==this.getPlayer()&&t.state.position.y>=u.y-50).forEach(t=>{t.state.dying&&(t.state.velocity.y=0,t.state.velocity.x=0),t.state.velocity.y*=-.8}),this.getPlayer().state.attacking&&t.forEach(t=>{const e={state:{velocity:{...this.getPlayer().state.velocity},position:{...this.getPlayer().state.position}},props:{mass:100,radius:this.getPlayer().state.superAttack?800:150,elasticity:0}};t!==this.getPlayer()&&this.handleCollision(e,t,1.25)}),this}addBall(t,e){this.state.balls++;const a=J([X,et,at,it,Q,t,lt,tt,Y],{state:{incrementScore:this.incrementScore,addRenderable:this.addRenderable,position:{x:this.state.camera.position.x+~~(Math.random()*g),y:~~(Math.random()*c)-u.y},velocity:{y:-10}}});this.addRenderable(`BALL${e}`,a)}doesRangeOverlap(t,e,a,i,s){return e-a>s&&i-t>s}isCollision(t,e){return this.doesRangeOverlap(t.x1,t.x2,e.x1,e.x2,F)&&this.doesRangeOverlap(t.y1,t.y2,e.y1,e.y2,F)}getSortedRenderables(){return Object.values(this.state.renderables).sort((t,e)=>t.props.zIndex-e.props.zIndex)}getAllBodies(t=[]){return Object.values(this.state.renderables).filter(e=>e&&e.props.blocks&&!t.includes(e))}getGameState(){return this.state.game}gameStateIs(t){return this.getGameState()===t}getScore(){return this.state.score}ignoreKeys(){return document.removeEventListener("keydown",this.handleKeyDown),this}captureKeys(){return document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),this}resetScore(){return this.state.score=0,this}updateInfoBar(t){return this}setGameState(t){return this.state.game=t,this}playScoreSound(){const t=this.getScore();let e=null;if(t>=20&&!W.killingspree.hasPlayed&&(e=W.killingspree),t>=50&&!W.rampage.hasPlayed&&(e=W.rampage),t>=150&&!W.ownage.hasPlayed&&(e=W.ownage),t>=200&&!W.unstoppable.hasPlayed&&(e=W.unstoppable),t>=300&&!W.godlike.hasPlayed&&(e=W.godlike),!e)return this;this.incHadoukenCount(),e.hasPlayed=!0,e.play()}incrementScore(t){return this.playScoreSound(),this.incHealth(),this.state.score++,this}playPopSound(){return W.pop.cloneNode(!0).play(),this}playHadoukenSound(){return W.hadouken.cloneNode(!0).play(),this}}(t)})()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXBlYXQiLCJBcnJheSIsIm1hcCIsIl8iLCJJRExFIiwiRFlJTkciLCJKVU1QSU5HIiwiV0FMS0lORyIsIlJVTk5JTkciLCJQTEFZRVJfS0VZUyIsInciLCJhIiwicSIsImUiLCJQQVVTRUQiLCJTVEFSVEVEIiwiRU5ERUQiLCJQTEFZRVJfMSIsIkdBTUVfSEVJR0hUIiwiR0FNRV9XSURUSCIsIkdST1VORCIsInkiLCJHUkFWSVRZIiwiRlJJQ1RJT04iLCJNQVhfQ0FNRVJBX1RPX1BMQVlFUiIsIlRPTEVSQU5DRSIsIkZPTlRfTkFNRSIsIkJBTEwwX0lETEUiLCJCQUxMMF9KVU1QSU5HIiwiQkFMTDBfV0FMS0lORyIsIkJBTEwwX1JVTk5JTkciLCJCQUxMMV9JRExFIiwiQkFMTDFfSlVNUElORyIsIkJBTEwxX1dBTEtJTkciLCJCQUxMMV9SVU5OSU5HIiwiQkFMTDJfSURMRSIsIkJBTEwyX0pVTVBJTkciLCJCQUxMMl9XQUxLSU5HIiwiQkFMTDJfUlVOTklORyIsIkJBTEwzX0lETEUiLCJCQUxMM19KVU1QSU5HIiwiQkFMTDNfV0FMS0lORyIsIkJBTEwzX1JVTk5JTkciLCJCQUxMNF9JRExFIiwiQkFMTDRfSlVNUElORyIsIkJBTEw0X1dBTEtJTkciLCJCQUxMNF9SVU5OSU5HIiwiQkFMTF9EWUlORyIsIlBMQVlFUl8yX0lNQUdFUyIsIlBMQVlFUl8yX0RZSU5HX0lNQUdFUyIsIlBMQVlFUl8yX1dBTEtJTkdfSU1BR0VTIiwiUExBWUVSXzJfSlVNUElOR19JTUFHRVMiLCJ1dGlscyIsInJhbmRvbUNvbG9yIiwiTWF0aCIsInJhbmRvbSIsImdldFBsYXllckZyb21LZXkiLCJpbmRleE9mIiwibWluIiwibWF4Iiwicm91bmQiLCJ1cGRhdGVUZXh0IiwiJCIsInRleHQiLCJpbm5lclRleHQiLCJuZXdDYW52YXMiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJoZWlnaHQiLCJ3aWR0aCIsImFwcGVuZENoaWxkIiwibmV3SW1hZ2VGcm9tUGF0aCIsInBhdGgiLCJpbWFnZSIsInNyYyIsImx0IiwiYiIsImd0IiwibmV3SW1hZ2VzRnJvbVBhdGgiLCJjb3VudCIsImluZGV4IiwiZmxpcCIsImZuIiwiYXJncyIsInJldmVyc2UiLCJ3YWl0IiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNldFRpbWVvdXQiLCJpc09iamVjdCIsInZhbCIsImNvbnN0cnVjdG9yIiwiaXNBcnJheSIsIm1vZHVsdXMiLCJtZXJnZVByb3BzIiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwia2V5cyIsInJlZHVjZSIsInByb3AiLCJtZXJnZUZ1bmN0aW9ucyIsIm9sZEZ1bmMiLCJzZXRTdGF0ZSIsImN0eCIsInN0YXRlIiwidmVjdG9yQWRkIiwidjEiLCJ2MiIsIngiLCJ2ZWN0b3JBZGRDIiwidmVjdG9yU3Vic3RyYWN0IiwidmVjdG9yU3Vic3RyYWN0QyIsInZlY3RvckRvdCIsInZlY3Rvckxlbmd0aCIsInYiLCJzcXJ0Iiwibm9ybWFsaXplIiwidmVjdG9yTXVsdGlwbHkiLCJ2ZWN0b3JNYXgiLCJ1bmRlZmluZWQiLCJ2ZWN0b3JNYXhDIiwidmVjdG9yTWluIiwidmVjdG9yTWluQyIsInZlY3RvckdUIiwiYWJzIiwidmVjdG9yTFQiLCJtaXhpbiIsImluY2x1ZGVzIiwibWl4aW5BbGwiLCJzb3VyY2VzIiwibmV3T2JqZWN0IiwiZ2FtZUFyZWEiLCJnZXRFbGVtZW50QnlJZCIsInBvcCIsImhhZG91a2VuIiwibG9zZSIsImtpbGxpbmdzcHJlZSIsImRhbmdlciIsInJhbXBhZ2UiLCJvd25hZ2UiLCJ1bnN0b3BwYWJsZSIsImdvZGxpa2UiLCJ0aGVtZSIsIlJlbmRlcmFibGUiLCJwb3NpdGlvbiIsImRpc3BsYXkiLCJhbmltYXRpb24iLCJmbGlwcGVkIiwiZnJhbWVzU2tpcHBlZCIsInJlcGVhdENvdW50IiwiZHVwbGljYXRlQ291bnQiLCJwcm9wcyIsInpJbmRleCIsImFuaW1hdGlvbnMiLCJbb2JqZWN0IE9iamVjdF0iLCJpbWFnZXMiLCJpbWFnZXNGbGlwcGVkIiwiZHVwbGljYXRlIiwiZGVsYXkiLCJ1cGRhdGUiLCJ0aGlzIiwieDEiLCJ4MiIsImdldEN1cnJlbnRBbmltYXRpb25GcmFtZSIsInkxIiwieTIiLCJnZXRBbmltYXRpb25GcmFtZUF0IiwiZ2V0QW5pbWF0aW9uSW5kZXgiLCJnZXRDdXJyZW50QW5pbWF0aW9uIiwibGVuZ3RoIiwic3RhdGVQcm9wIiwicHJvcFByb3AiLCJFcnJvciIsImluY0FuaW1hdGlvblByb3AiLCJpc0FuaW1hdGlvbkRvbmUiLCJpbmNBbmltYXRpb25JbmRleCIsInNldEFuaW1hdGlvblByb3AiLCJnZXRBbmltYXRpb25Qcm9wIiwic2V0QW5pbWF0aW9uSW5kZXgiLCJkb1Jlc2V0IiwiY2FtZXJhIiwicmVzZXRBbmltYXRpb24iLCJuZXh0IiwiaW5jcmVtZW50RnJhbWUiLCJuZXh0RnJhbWUiLCJtb2RYIiwiY2xpcHBlZFdpZHRoIiwic2hvdWxkRHVwbGljYXRlIiwiZHJhd0ltYWdlIiwicmVtYWluaW5nIiwibmV4dFBvc2l0aW9uIiwicmFkaXVzIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJmaWxsU3R5bGUiLCJodWUiLCJmaWxsIiwiZHJhd1BhcnRpY2xlIiwiZ2V0Qm91bmRpbmdSZWN0IiwiZHJhd1BhcmFsbGF4TGF5ZXIiLCJFbWl0c1BhcnRpY2xlcyIsInBhcnRpY2xlT3JpZ2luIiwibWF4UmFkaXVzIiwibWluUmFkaXVzIiwicGFydGljbGVDb3VudCIsInRhcmdldFBhcnRpY2xlcyIsImFkZFJlbmRlcmFibGUiLCJmbG9vciIsInBhcnRpY2xlIiwiY3JlYXRlUGFydGljbGVBdCIsImNvbnNvbGUiLCJsb2ciLCJBdHRhY2tzIiwiYXR0YWNraW5nIiwic3VwZXJBdHRhY2siLCJhdHRhY2siLCJyZXNldCIsIkRpZXMiLCJkeWluZyIsImRlYWQiLCJkZWFkQ291bnQiLCJpbmNyZW1lbnRTY29yZSIsImFjY2VsZXJhdGlvbiIsInZlbG9jaXR5IiwiVmVsb2NpdHlLaWxscyIsImNlbnRlck9mQmFsbCIsImVtaXRQYXJ0aWNsZXMiLCJkaWUiLCJNb3ZlcyIsInJ1bm5pbmdWZWxvY2l0eSIsIkluZmluaXR5IiwibWF4VmVsb2NpdHkiLCJtaW5WZWxvY2l0eSIsImdldE5leHRQb3NpdGlvbiIsIm5ld1Bvc2l0aW9uIiwiQWNjZWxlcmF0ZXMiLCJzbG93RG93biIsImlzT25Hcm91bmQiLCJuZXdWZWxvY2l0eSIsImZucyIsImluaXRpYWwiLCJyZWR1Y2VSaWdodCIsImNvbXBvc2UiLCJvbGRWZWxvY2l0eSIsInNob3VsZFN0b3BTbG93aW5nRG93biIsInN0b3BNb3ZpbmdYIiwidXBkYXRlVmVsb2NpdGllcyIsInVwZGF0ZVNsb3dEb3duIiwidXBkYXRlRmxpcCIsIkJsb2NrcyIsImJsb2NrcyIsImRhbWFnZXMiLCJlbGFzdGljaXR5IiwibWFzcyIsIkV4cGxvZGVzIiwiZXhwbG9kaW5nIiwiZ3JvdW5kIiwic2t5IiwiY2xvdWRzIiwiQ29sb3VyZnVsIiwiQmFsbDAiLCJCYWxsMSIsIkJhbGwyIiwiQmFsbDMiLCJCYWxsNCIsInBsYXllck9uZSIsImhlYWx0aCIsImRpcmVjdGlvbiIsInNpZ24iLCJjYW5Eb3VibGVKdW1wIiwic291bmQiLCJjZW50ZXJPZlBsYXllciIsImFjdGlvbiIsImRvTW92ZSIsImRvQXR0YWNrIiwic3RvcE1vdmUiLCJkb0p1bXAiLCJQYXJ0aWNsZSIsInBsYXllckNhbWVyYURpZmYiLCJyZW5kZXJhYmxlcyIsIkdyb3VuZCIsIlNreSIsIkNsb3VkcyIsImZvbnRzIiwibG9hZCIsImdhbWUiLCJzY29yZSIsImJhbGxzIiwiZ2V0Q29udGV4dCIsImhhbmRsZUtleURvd24iLCJoYW5kbGVLZXlVcCIsImFuaW1hdGlvbkxvb3AiLCJwbGF5SGFkb3VrZW5Tb3VuZCIsImxvb3AiLCJzdGFydFJvdW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0eWxlIiwicXVlcnlTZWxlY3RvciIsInBsYXkiLCJzZXRHYW1lU3RhdGUiLCJjYXB0dXJlS2V5cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9uZU5vZGUiLCJnZXRQbGF5ZXIiLCJjbGVhblVwRGVhZCIsIm1heEJhbGxzIiwiZ2V0U2NvcmUiLCJzaG91bGRTcGF3biIsInNob3VsZFJhaW4iLCJwbGF5RGFuZ2VyU291bmQiLCJudW1iZXJUb1NwYXduIiwiZm9yRWFjaCIsImJhbGxUeXBlcyIsInJhbmRvbVR5cGUiLCJhZGRCYWxsIiwiaGFuZGxlQWxsQ29sbGlzaW9ucyIsImdldFNvcnRlZFJlbmRlcmFibGVzIiwiZWxlbWVudCIsInJlbmRlciIsImdldEhlYWx0aCIsImdhbWVTdGF0ZUlzIiwiaWdub3JlS2V5cyIsInJlbmRlckluZm9CYXIiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJlbnRyaWVzIiwicmVuZGVyYWJsZSIsInBsYXlQb3BTb3VuZCIsImZvbnQiLCJnbG9iYWxBbHBoYSIsInRleHRBbGlnbiIsImZpbGxUZXh0IiwicmVuZGVyR2FtZU92ZXIiLCJjb2xvciIsImdldEhhZG91a2VuQ291bnQiLCJoYW5kbGVBY3Rpb24iLCJoYW5kbGVBY3Rpb25TdG9wIiwicGxheWVyIiwibTEiLCJtMiIsImJvZHkiLCJib2R5MiIsIm1hZ2ljIiwicDEiLCJwMiIsInIxIiwicjIiLCJtaW5FbGFzdGljaXR5IiwiZGVsdGFQb3NpdGlvbiIsInN1bVJhZGl1cyIsIm1hZ25pdHVkZSIsInN1bU9mTWFzc2VzIiwibm9ybWFsaXplRGVsdGFQb3NpdGlvbiIsImRlbHRhVGFuZ2VudCIsImNvcnJlY3Rpb24iLCJtYWduaXR1ZGVWZWxvY2l0eTEiLCJtYWduaXR1ZGVWZWxvY2l0eTIiLCJhbGxCb2RpZXMiLCJnZXRBbGxCb2RpZXMiLCJzbGljZSIsImhhbmRsZUNvbGxpc2lvbiIsImZpbHRlciIsInN1cGVyUmFkaXVzIiwidHlwZSIsIm5ld0JhbGwiLCJzdGFydCIsImVuZCIsInN0YXJ0MiIsImVuZDIiLCJ0b2xlcmFuY2UiLCJkb2VzUmFuZ2VPdmVybGFwIiwidmFsdWVzIiwic29ydCIsImJvZGllcyIsImdldEdhbWVTdGF0ZSIsInNvdW5kVG9QbGF5IiwiaGFzUGxheWVkIiwiaW5jSGFkb3VrZW5Db3VudCIsInBsYXlTY29yZVNvdW5kIiwiaW5jSGVhbHRoIiwibWFpbiJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3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RUFBQWdGLFNBQ0FxSixHQUFBLE1BQUFyTyxFQUFBaUYsT0FBQThPLFlBQUFELEVBQUE5VCxFQUFBaUYsUUFDQW9KLEdBQUEsTUFBQXJPLEVBQUFrRixZQUFBNk8sWUFBQUQsRUFBQTlULEVBQUFrRixhQUNBbUosR0FBQSxNQUFBck8sRUFBQW1GLFFBQUE0TyxZQUFBRCxFQUFBOVQsRUFBQW1GLFVBQ0EyTyxFQUFBLE9BQUF4TixLQUNBQSxLQUFBME4sbUJBQ0FGLEVBQUFDLFdBQUEsRUFDQUQsRUFBQTdFLE9BR0FqSixlQUFBd0wsR0FJQSxPQUhBbEwsS0FBQTJOLGlCQUNBM04sS0FBQTROLFlBQ0E1TixLQUFBeEQsTUFBQXVMLFFBQ0EvSCxLQUdBTixlQUVBLE9BREFoRyxFQUFBMkUsSUFBQTBLLFdBQUEsR0FBQUosT0FDQTNJLEtBR0FOLG9CQUVBLE9BREFoRyxFQUFBNEUsU0FBQXlLLFdBQUEsR0FBQUosT0FDQTNJLE9BY0F3SCxJQUdBcUciLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy9cbi8vICAjIyAgIyMgICMjICAgICMjICAjIyAgICAgICMjIyMjXG4vLyAgIyMgIyMgICAgIyMgICMjICAgIyMgICAgICAjI1xuLy8gICMjIyMgICAgICAjIyMjICAgICMjICAgICAgIyMjIyNcbi8vICAjIyAjIyAgICAgICMjICAgICAjIyAgICAgICMjXG4vLyAgIyMgICMjICAgICAjIyAgICAgIyMjIyMjICAjIyMjI1xuLy9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgcmVwZWF0ID0gbiA9PiBbLi4uQXJyYXkobildLm1hcCgoXywgaSkgPT4gaSlcbmNvbnN0IGNvbXBvc2UgPSAoLi4uZm5zKSA9PiBpbml0aWFsID0+IGZucy5yZWR1Y2VSaWdodCgoYXJncywgZm4pID0+IGZuKGFyZ3MpLCBpbml0aWFsKVxuXG5jb25zdCBJRExFID0gJ2lkbGUnXG5jb25zdCBBVFRBQ0tJTkcgPSAnYXR0YWNrJ1xuY29uc3QgRFlJTkcgPSAnZHlpbmcnXG5jb25zdCBFWFBMT0RJTkcgPSAnZXhwbG9kaW5nJ1xuY29uc3QgSlVNUElORyA9ICdqdW1waW5nJ1xuY29uc3QgV0FMS0lORyA9ICd3YWxraW5nJ1xuY29uc3QgUlVOTklORyA9ICdydW5uaW5nJ1xuY29uc3QgR09PRCA9ICdnb29kJ1xuY29uc3QgQkFEID0gJ2JhZCdcbmNvbnN0IE1FRElVTSA9ICdtZWRpdW0nXG5cbmNvbnN0IE1PVkVfTEVGVCA9ICdsZWZ0J1xuY29uc3QgTU9WRV9SSUdIVCA9ICdyaWdodCdcbmNvbnN0IEpVTVAgPSAnanVtcCdcbmNvbnN0IENST1VDSCA9ICdjcm91Y2gnXG5jb25zdCBBVFRBQ0sgPSAnYXR0YWNrJ1xuY29uc3QgU1dPUkQgPSAnU1dPUkQnXG5cbmNvbnN0IFBMQVlFUl9LRVlTID0ge1xuICB3OiBKVU1QLFxuICBhOiBNT1ZFX0xFRlQsXG4gIHM6IENST1VDSCxcbiAgZDogTU9WRV9SSUdIVCxcbiAgcTogQVRUQUNLLFxuICBlOiBTV09SRFxufVxuXG5jb25zdCBQQVVTRUQgPSAncGF1c2VkJ1xuY29uc3QgU1RBUlRFRCA9ICdzdGFydGVkJ1xuY29uc3QgRU5ERUQgPSAnZW5kZWQnXG5cbmNvbnN0IFBMQVlFUl8xID0gMFxuY29uc3QgUExBWUVSXzIgPSAxXG5cbmNvbnN0IEJBQ0tHUk9VTkRfU0tZID0gJ1NreSdcbmNvbnN0IEJBQ0tHUk9VTkRfR1JPVU5EID0gJ0dyb3VuZCdcbmNvbnN0IEJBQ0tHUk9VTkRfQ0xPVURTID0gJ0Nsb3VkcydcblxuY29uc3QgR0FNRV9IRUlHSFQgPSA3MjBcbmNvbnN0IEdBTUVfV0lEVEggPSAxMjgwXG5cbmNvbnN0IEdST1VORCA9IHt5OiBHQU1FX0hFSUdIVCAtIDEwMH1cbmNvbnN0IEdSQVZJVFkgPSB7eDogMCwgeTogMC40fVxuY29uc3QgRlJJQ1RJT04gPSB7eDogMC41LCB5OiAwfVxuY29uc3QgTUFYX0NBTUVSQV9UT19QTEFZRVIgPSBHQU1FX1dJRFRIIC0gNDAwXG5jb25zdCBNSU5fQ0FNRVJBX1RPX1BMQVlFUiA9IDIwMFxuY29uc3QgVE9MRVJBTkNFID0gMTVcblxuY29uc3QgRk9OVF9OQU1FID0gJ1pvcnF1ZSdcblxuY29uc3QgR1JPVU5EX0lNQUdFID0gJ2ltYWdlcy9CYWNrZ3JvdW5kIExheWVycy9Hcm91bmQucG5nJ1xuY29uc3QgU0tZX0lNQUdFID0gJ2ltYWdlcy9CYWNrZ3JvdW5kIExheWVycy9Ta3kucG5nJ1xuY29uc3QgQ0xPVURTX0lNQUdFID0gJ2ltYWdlcy9CYWNrZ3JvdW5kIExheWVycy9DbG91ZHMucG5nJ1xuY29uc3QgQkFMTDBfSURMRSA9ICdpbWFnZXMvQmFsbG9vbnMvQmFsbG9vbnNfMDFfNjR4NjRfQWx0XzAwXzAwNC5wbmcnXG5jb25zdCBCQUxMMF9KVU1QSU5HID0gJ2ltYWdlcy9CYWxsb29ucy9CYWxsb29uc18wMV82NHg2NF9BbHRfMDBfMDA1LnBuZydcbmNvbnN0IEJBTEwwX1dBTEtJTkcgPSAnaW1hZ2VzL0JhbGxvb25zL0JhbGxvb25zXzAxXzY0eDY0X0FsdF8wMF8wMDYucG5nJ1xuY29uc3QgQkFMTDBfUlVOTklORyA9ICdpbWFnZXMvQmFsbG9vbnMvQmFsbG9vbnNfMDFfNjR4NjRfQWx0XzAwXzAwNy5wbmcnXG5jb25zdCBCQUxMMV9JRExFID0gJ2ltYWdlcy9CYWxsb29ucy9CYWxsb29uc18wMV82NHg2NF9BbHRfMDFfMDA0LnBuZydcbmNvbnN0IEJBTEwxX0pVTVBJTkcgPSAnaW1hZ2VzL0JhbGxvb25zL0JhbGxvb25zXzAxXzY0eDY0X0FsdF8wMV8wMDUucG5nJ1xuY29uc3QgQkFMTDFfV0FMS0lORyA9ICdpbWFnZXMvQmFsbG9vbnMvQmFsbG9vbnNfMDFfNjR4NjRfQWx0XzAxXzAwNi5wbmcnXG5jb25zdCBCQUxMMV9SVU5OSU5HID0gJ2ltYWdlcy9CYWxsb29ucy9CYWxsb29uc18wMV82NHg2NF9BbHRfMDFfMDA3LnBuZydcbmNvbnN0IEJBTEwyX0lETEUgPSAnaW1hZ2VzL0JhbGxvb25zL0JhbGxvb25zXzAxXzY0eDY0X0FsdF8wMl8wMDQucG5nJ1xuY29uc3QgQkFMTDJfSlVNUElORyA9ICdpbWFnZXMvQmFsbG9vbnMvQmFsbG9vbnNfMDFfNjR4NjRfQWx0XzAyXzAwNS5wbmcnXG5jb25zdCBCQUxMMl9XQUxLSU5HID0gJ2ltYWdlcy9CYWxsb29ucy9CYWxsb29uc18wMV82NHg2NF9BbHRfMDJfMDA2LnBuZydcbmNvbnN0IEJBTEwyX1JVTk5JTkcgPSAnaW1hZ2VzL0JhbGxvb25zL0JhbGxvb25zXzAxXzY0eDY0X0FsdF8wMl8wMDcucG5nJ1xuY29uc3QgQkFMTDNfSURMRSA9ICdpbWFnZXMvQmFsbG9vbnMvQmFsbG9vbnNfMDFfNjR4NjRfQWx0XzAzXzAwNC5wbmcnXG5jb25zdCBCQUxMM19KVU1QSU5HID0gJ2ltYWdlcy9CYWxsb29ucy9CYWxsb29uc18wMV82NHg2NF9BbHRfMDNfMDA1LnBuZydcbmNvbnN0IEJBTEwzX1dBTEtJTkcgPSAnaW1hZ2VzL0JhbGxvb25zL0JhbGxvb25zXzAxXzY0eDY0X0FsdF8wM18wMDYucG5nJ1xuY29uc3QgQkFMTDNfUlVOTklORyA9ICdpbWFnZXMvQmFsbG9vbnMvQmFsbG9vbnNfMDFfNjR4NjRfQWx0XzAzXzAwNy5wbmcnXG5jb25zdCBCQUxMNF9JRExFID0gJ2ltYWdlcy9CYWxsb29ucy9CYWxsb29uc18wMV82NHg2NF9BbHRfMDRfMDA0LnBuZydcbmNvbnN0IEJBTEw0X0pVTVBJTkcgPSAnaW1hZ2VzL0JhbGxvb25zL0JhbGxvb25zXzAxXzY0eDY0X0FsdF8wNF8wMDUucG5nJ1xuY29uc3QgQkFMTDRfV0FMS0lORyA9ICdpbWFnZXMvQmFsbG9vbnMvQmFsbG9vbnNfMDFfNjR4NjRfQWx0XzA0XzAwNi5wbmcnXG5jb25zdCBCQUxMNF9SVU5OSU5HID0gJ2ltYWdlcy9CYWxsb29ucy9CYWxsb29uc18wMV82NHg2NF9BbHRfMDRfMDA3LnBuZydcbmNvbnN0IEJBTExfRFlJTkcgPSBbJ2ltYWdlcy9maXJlL0ZpbGUnLCAzMF1cbmNvbnN0IFBMQVlFUl8xX0lNQUdFUyA9IFsnaW1hZ2VzL1BsYXllci8xX0lETEVfMDAnLCA1XVxuY29uc3QgUExBWUVSXzFfV0FMS0lOR19JTUFHRVMgPSBbJ2ltYWdlcy9QbGF5ZXIvMl9XQUxLXzAwJywgNV1cbmNvbnN0IFBMQVlFUl8xX1JVTk5JTkdfSU1BR0VTID0gWydpbWFnZXMvUGxheWVyLzNfUlVOXzAwJywgNV1cbmNvbnN0IFBMQVlFUl8xX0pVTVBJTkdfSU1BR0VTID0gWydpbWFnZXMvUGxheWVyLzRfSlVNUF8wMCcsIDVdXG5jb25zdCBQTEFZRVJfMV9BVFRBQ0tfSU1BR0VTID0gWydpbWFnZXMvUGxheWVyLzVfQVRUQUNLXzAwJywgNV1cbmNvbnN0IFBMQVlFUl8xX0RZSU5HX0lNQUdFUyA9IFsnaW1hZ2VzL1BsYXllci83X0RJRV8wMCcsIDVdXG5jb25zdCBQTEFZRVJfMV9JTUFHRVNfRiA9IFsnaW1hZ2VzL1BsYXllciBGbGlwLzFfSURMRV8wMCcsIDVdXG5jb25zdCBQTEFZRVJfMV9XQUxLSU5HX0lNQUdFU19GID0gWydpbWFnZXMvUGxheWVyIEZsaXAvMl9XQUxLXzAwJywgNV1cbmNvbnN0IFBMQVlFUl8xX1JVTk5JTkdfSU1BR0VTX0YgPSBbJ2ltYWdlcy9QbGF5ZXIgRmxpcC8zX1JVTl8wMCcsIDVdXG5jb25zdCBQTEFZRVJfMV9KVU1QSU5HX0lNQUdFU19GID0gWydpbWFnZXMvUGxheWVyIEZsaXAvNF9KVU1QXzAwJywgNV1cbmNvbnN0IFBMQVlFUl8xX0FUVEFDS19JTUFHRVNfRiA9IFsnaW1hZ2VzL1BsYXllciBGbGlwLzVfQVRUQUNLXzAwJywgNV1cbmNvbnN0IFBMQVlFUl8xX0RZSU5HX0lNQUdFU19GID0gWydpbWFnZXMvUGxheWVyIEZsaXAvN19ESUVfMDAnLCA1XVxuY29uc3QgUExBWUVSXzJfSU1BR0VTID0gWydpbWFnZXMvVGVycm9yL2lkbGUvMl90ZXJyb3Jpc3RfMl9JZGxlXzAwJywgOF1cbmNvbnN0IFBMQVlFUl8yX0RZSU5HX0lNQUdFUyA9IFsnaW1hZ2VzL1RlcnJvci9odXJ0LzJfdGVycm9yaXN0XzJfSHVydF8wMCcsIDldXG5jb25zdCBQTEFZRVJfMl9XQUxLSU5HX0lNQUdFUyA9IFsnaW1hZ2VzL1RlcnJvci9ydW4vMl90ZXJyb3Jpc3RfMl9SdW5fMDAnLCA2XVxuY29uc3QgUExBWUVSXzJfSlVNUElOR19JTUFHRVMgPSBbJ2ltYWdlcy9UZXJyb3IvanVtcC8yX3RlcnJvcmlzdF8yX0p1bXBfMDAnLCA4XVxuXG5jb25zdCB1dGlscyA9IHtcbiAgcmFuZG9tQ29sb3IgKCkge1xuICAgIGNvbnN0IHIgPSB+fihNYXRoLnJhbmRvbSgpICogMjU1KVxuICAgIGNvbnN0IGcgPSB+fihNYXRoLnJhbmRvbSgpICogMjU1KVxuICAgIGNvbnN0IGIgPSB+fihNYXRoLnJhbmRvbSgpICogMjU1KVxuICAgIGNvbnN0IGEgPSBNYXRoLnJhbmRvbSgpXG4gICAgcmV0dXJuIGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YX0pYFxuICB9LFxuXG4gIGdldFBsYXllckZyb21LZXk6IGtleSA9PiBQTEFZRVJfS0VZUy5pbmRleE9mKGtleSksXG5cbiAgcmFuZG9tOiAobWluID0gMCwgbWF4ID0gMSkgPT5cbiAgICBNYXRoLnJvdW5kKG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSksXG5cbiAgdXBkYXRlVGV4dDogKCQsIHRleHQpID0+IHtcbiAgICAkLmlubmVyVGV4dCA9IHRleHRcbiAgfSxcblxuICBuZXdDYW52YXM6ICQgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgO1tjYW52YXMuaGVpZ2h0LCBjYW52YXMud2lkdGhdID0gW0dBTUVfSEVJR0hULCBHQU1FX1dJRFRIXVxuICAgICQuYXBwZW5kQ2hpbGQoY2FudmFzKVxuICAgIHJldHVybiBjYW52YXNcbiAgfSxcblxuICBuZXdJbWFnZUZyb21QYXRoOiBwYXRoID0+IHtcbiAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgaW1hZ2Uuc3JjID0gcGF0aFxuICAgIHJldHVybiBpbWFnZVxuICB9LFxuXG4gIGx0OiAoYSwgYikgPT4gYSA8IGIsXG5cbiAgZ3Q6IChhLCBiKSA9PiBhID4gYixcblxuICBuZXdJbWFnZXNGcm9tUGF0aDogKFtwYXRoLCBjb3VudF0pID0+IHtcbiAgICByZXR1cm4gcmVwZWF0KGNvdW50KS5tYXAoaW5kZXggPT4gdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChgJHtwYXRofSR7aW5kZXh9LnBuZ2ApKVxuICB9LFxuXG4gIGZsaXA6IGZuID0+ICguLi5hcmdzKSA9PiBmbihhcmdzLnJldmVyc2UoKSksXG5cbiAgd2FpdDogbXMgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpLFxuXG4gIGlzT2JqZWN0OiB2YWwgPT4gdmFsIGluc3RhbmNlb2YgT2JqZWN0ICYmIHZhbC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KHZhbCksXG5cbiAgbW9kdWx1czogKGEsIGIpID0+ICgoKGEgJSBiKSArIGIpICUgYiksXG5cbiAgbWVyZ2VQcm9wczogZnVuY3Rpb24gYXNzaWduICh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZSgodGFyZ2V0LCBwcm9wKSA9PiB7XG4gICAgICB0YXJnZXRbcHJvcF0gPVxuICAgICAgICAgIHV0aWxzLmlzT2JqZWN0KHNvdXJjZVtwcm9wXSlcbiAgICAgICAgICAgID8gYXNzaWduKHRhcmdldFtwcm9wXSB8fCB7fSwgc291cmNlW3Byb3BdKVxuICAgICAgICAgICAgOiBzb3VyY2VbcHJvcF1cbiAgICAgIHJldHVybiB0YXJnZXRcbiAgICB9LCB0YXJnZXQpXG4gIH0sXG5cbiAgbWVyZ2VGdW5jdGlvbnM6IChuYW1lLCB0YXJnZXQsIHNvdXJjZSkgPT4ge1xuICAgIGNvbnN0IG9sZEZ1bmMgPSB0YXJnZXRbbmFtZV1cbiAgICB0YXJnZXRbbmFtZV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgaWYgKG9sZEZ1bmMpIG9sZEZ1bmMuY2FsbCh0YXJnZXQsIC4uLmFyZ3MpXG4gICAgICByZXR1cm4gc291cmNlW25hbWVdLmNhbGwodGFyZ2V0LCAuLi5hcmdzKVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0XG4gIH0sXG5cbiAgc2V0U3RhdGU6IChjdHgsIHN0YXRlKSA9PiB7XG4gICAgdXRpbHMubWVyZ2VQcm9wcyhjdHguc3RhdGUsIHN0YXRlKVxuICAgIHJldHVybiBjdHhcbiAgfSxcblxuICB2ZWN0b3JBZGQ6ICh2MSwgdjIpID0+ICh7XG4gICAgeDogdjEueCArIHYyLngsXG4gICAgeTogdjEueSArIHYyLnlcbiAgfSksXG5cbiAgdmVjdG9yQWRkQzogdjEgPT4gdjIgPT4gdXRpbHMudmVjdG9yQWRkKHYxLCB2MiksXG5cbiAgdmVjdG9yU3Vic3RyYWN0OiAodjEsIHYyKSA9PiAoe1xuICAgIHg6IHYxLnggLSB2Mi54LFxuICAgIHk6IHYxLnkgLSB2Mi55XG4gIH0pLFxuXG4gIHZlY3RvclN1YnN0cmFjdEM6IHYxID0+IHYyID0+IHV0aWxzLnZlY3RvclN1YnN0cmFjdCh2MSwgdjIpLFxuXG4gIHZlY3RvckRvdDogKHYxLCB2MikgPT4gdjEueCAqIHYyLnggKyB2MS55ICogdjIueSxcblxuICB2ZWN0b3JMZW5ndGg6IHYgPT4gTWF0aC5zcXJ0KHYueCAqIHYueCArIHYueSAqIHYueSksXG5cbiAgbm9ybWFsaXplOiB2ID0+IHtcbiAgICB2YXIgcyA9IDEgLyB1dGlscy52ZWN0b3JMZW5ndGgodilcbiAgICByZXR1cm4ge1xuICAgICAgeDogdi54ICogcyxcbiAgICAgIHk6IHYueSAqIHNcbiAgICB9XG4gIH0sXG5cbiAgdmVjdG9yTXVsdGlwbHk6ICh2LCBjKSA9PiAoe1xuICAgIHg6IHYueCAqIGMsXG4gICAgeTogdi55ICogY1xuICB9KSxcblxuICB2ZWN0b3JNYXg6ICh2MSwgdjIpID0+ICh7XG4gICAgeDogdjIueCAhPT0gdW5kZWZpbmVkID8gTWF0aC5taW4odjEueCwgdjIueCkgOiB2MS54LFxuICAgIHk6IHYyLnkgIT09IHVuZGVmaW5lZCA/IE1hdGgubWluKHYxLnksIHYyLnkpIDogdjEueVxuICB9KSxcblxuICB2ZWN0b3JNYXhDOiB2MiA9PiB2MSA9PiB1dGlscy52ZWN0b3JNYXgodjEsIHYyKSxcblxuICB2ZWN0b3JNaW46ICh2MSwgdjIpID0+ICh7XG4gICAgeDogdjIueCAhPT0gdW5kZWZpbmVkID8gTWF0aC5tYXgodjEueCwgdjIueCkgOiB2MS54LFxuICAgIHk6IHYyLnkgIT09IHVuZGVmaW5lZCA/IE1hdGgubWF4KHYxLnksIHYyLnkpIDogdjEueVxuICB9KSxcblxuICB2ZWN0b3JNaW5DOiB2MiA9PiB2MSA9PiB1dGlscy52ZWN0b3JNaW4odjEsIHYyKSxcblxuICB2ZWN0b3JHVDogKHYsIG4pID0+IE1hdGguYWJzKHYueCkgPj0gbiB8fCBNYXRoLmFicyh2LnkpID49IG4sXG5cbiAgdmVjdG9yTFQ6ICh2LCBuKSA9PiBNYXRoLmFicyh2LngpIDw9IG4gfHwgTWF0aC5hYnModi55KSA8PSBuXG59XG5cbmNvbnN0IG1peGluID0gKHRhcmdldCwgc291cmNlKSA9PiB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZSgodGFyZ2V0LCBwcm9wKSA9PiB7XG4gICAgaWYgKHByb3AgPT09ICd1cGRhdGUnKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2VGdW5jdGlvbnMocHJvcCwgdGFyZ2V0LCBzb3VyY2UpXG4gICAgfVxuICAgIHRhcmdldFtwcm9wXSA9IFsnc3RhdGUnLCAncHJvcHMnXS5pbmNsdWRlcyhwcm9wKVxuICAgICAgPyB1dGlscy5tZXJnZVByb3BzKHRhcmdldFtwcm9wXSB8fCB7fSwgc291cmNlW3Byb3BdKVxuICAgICAgOiBzb3VyY2VbcHJvcF1cblxuICAgIHJldHVybiB0YXJnZXRcbiAgfSwgdGFyZ2V0KVxufVxuXG5jb25zdCBtaXhpbkFsbCA9IChzb3VyY2VzLCB0YXJnZXQpID0+IHtcbiAgY29uc3QgbmV3T2JqZWN0ID0ge31cbiAgc291cmNlcy5yZWR1Y2UobWl4aW4sIG5ld09iamVjdClcbiAgcmV0dXJuIG1peGluKG5ld09iamVjdCwgdGFyZ2V0KVxufVxuXG5jb25zdCAkID0ge1xuICBnYW1lQXJlYTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtYXJlYScpLFxuICBwb3A6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3AnKSxcbiAgaGFkb3VrZW46IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoYWRvdWtlbicpLFxuICBsb3NlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9zZScpLFxuICBraWxsaW5nc3ByZWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdraWxsaW5nc3ByZWUnKSxcbiAgZGFuZ2VyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFuZ2VyJyksXG4gIHJhbXBhZ2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW1wYWdlJyksXG4gIG93bmFnZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ293bmFnZScpLFxuICB1bnN0b3BwYWJsZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vuc3RvcHBhYmxlJyksXG4gIGdvZGxpa2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb2RsaWtlJyksXG4gIHRoZW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWUnKVxufVxuXG5jb25zdCBSZW5kZXJhYmxlID0ge1xuICBzdGF0ZToge1xuICAgIHBvc2l0aW9uOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH0sXG4gICAgZGlzcGxheTogdHJ1ZSxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICBuYW1lOiBJRExFLFxuICAgICAgZmxpcHBlZDogZmFsc2UsXG4gICAgICBpbmRleDogMCxcbiAgICAgIGZyYW1lc1NraXBwZWQ6IDAsXG4gICAgICByZXBlYXRDb3VudDogMCxcbiAgICAgIGR1cGxpY2F0ZUNvdW50OiAwXG4gICAgfVxuICB9LFxuICBwcm9wczoge1xuICAgIHpJbmRleDogMCxcbiAgICBhbmltYXRpb25zOiB7XG4gICAgICBbSURMRV06IHtcbiAgICAgICAgaW1hZ2VzOiBbXSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogW10sXG4gICAgICAgIGR1cGxpY2F0ZTogMCxcbiAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgIHJlcGVhdDogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgcmVzZXRBbmltYXRpb24gKCkge1xuICAgIHJldHVybiB1dGlscy5zZXRTdGF0ZSh0aGlzLCB7XG4gICAgICBhbmltYXRpb246IHtcbiAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgIGZyYW1lc1NraXBwZWQ6IDAsXG4gICAgICAgIHJlcGVhdENvdW50OiAwXG4gICAgICB9XG4gICAgfSlcbiAgfSxcbiAgZ2V0Qm91bmRpbmdSZWN0ICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDE6IHRoaXMuc3RhdGUucG9zaXRpb24ueCxcbiAgICAgIHgyOiB0aGlzLnN0YXRlLnBvc2l0aW9uLnggKyB0aGlzLmdldEN1cnJlbnRBbmltYXRpb25GcmFtZSgpLndpZHRoLFxuICAgICAgeTE6IHRoaXMuc3RhdGUucG9zaXRpb24ueSAtIHRoaXMuZ2V0Q3VycmVudEFuaW1hdGlvbkZyYW1lKCkuaGVpZ2h0LFxuICAgICAgeTI6IHRoaXMuc3RhdGUucG9zaXRpb24ueVxuICAgIH1cbiAgfSxcbiAgZ2V0Q3VycmVudEFuaW1hdGlvbkZyYW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBbmltYXRpb25GcmFtZUF0KHRoaXMuZ2V0QW5pbWF0aW9uSW5kZXgoKSlcbiAgfSxcbiAgZ2V0Q3VycmVudEFuaW1hdGlvbiAoKSB7XG4gICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5wcm9wcy5hbmltYXRpb25zW3RoaXMuc3RhdGUuYW5pbWF0aW9uLm5hbWVdXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuYW5pbWF0aW9uLmZsaXBwZWRcbiAgICAgID8gYW5pbWF0aW9uLmltYWdlc0ZsaXBwZWRcbiAgICAgIDogYW5pbWF0aW9uLmltYWdlc1xuICB9LFxuICBnZXRBbmltYXRpb25JbmRleCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuYW5pbWF0aW9uLmluZGV4XG4gIH0sXG4gIGdldEFuaW1hdGlvbkZyYW1lQXQgKGluZGV4KSB7XG4gICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5nZXRDdXJyZW50QW5pbWF0aW9uKClcbiAgICByZXR1cm4gYW5pbWF0aW9uW2luZGV4ICUgYW5pbWF0aW9uLmxlbmd0aF1cbiAgfSxcbiAgZ2V0QW5pbWF0aW9uUHJvcCAocHJvcCkge1xuICAgIGNvbnN0IHN0YXRlUHJvcCA9IHRoaXMuc3RhdGUuYW5pbWF0aW9uW3Byb3BdXG4gICAgY29uc3QgcHJvcFByb3AgPSB0aGlzLnByb3BzLmFuaW1hdGlvbnNbdGhpcy5zdGF0ZS5hbmltYXRpb24ubmFtZV1bcHJvcF1cbiAgICBpZiAoc3RhdGVQcm9wICE9PSB1bmRlZmluZWQpIHJldHVybiBzdGF0ZVByb3BcbiAgICBpZiAocHJvcFByb3AgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHByb3BQcm9wXG4gICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgUHJvcGVydHknKVxuICB9LFxuICBzZXRBbmltYXRpb25Qcm9wIChwcm9wLCB2YWx1ZSkge1xuICAgIHRoaXMuc3RhdGUuYW5pbWF0aW9uW3Byb3BdID0gdmFsdWVcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICBzZXRBbmltYXRpb25JbmRleCAoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPj0gdGhpcy5nZXRDdXJyZW50QW5pbWF0aW9uKCkubGVuZ3RoIC0gMSkge1xuICAgICAgdGhpcy5pbmNBbmltYXRpb25Qcm9wKCdyZXBlYXRDb3VudCcpXG4gICAgfVxuICAgIGlmICh0aGlzLmlzQW5pbWF0aW9uRG9uZSgpKSB7XG4gICAgICB0aGlzLnN0YXRlLmFuaW1hdGlvbi5pbmRleCA9IHRoaXMuZ2V0Q3VycmVudEFuaW1hdGlvbigpLmxlbmd0aCAtIDFcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIHRoaXMuc3RhdGUuYW5pbWF0aW9uLmluZGV4ID0gaW5kZXggJSB0aGlzLmdldEN1cnJlbnRBbmltYXRpb24oKS5sZW5ndGhcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICBpbmNBbmltYXRpb25Qcm9wIChwcm9wKSB7XG4gICAgaWYgKHByb3AgPT09ICdpbmRleCcpIHJldHVybiB0aGlzLmluY0FuaW1hdGlvbkluZGV4KClcbiAgICByZXR1cm4gdGhpcy5zZXRBbmltYXRpb25Qcm9wKHByb3AsIHRoaXMuZ2V0QW5pbWF0aW9uUHJvcChwcm9wKSArIDEpXG4gIH0sXG4gIGluY0FuaW1hdGlvbkluZGV4ICgpIHtcbiAgICByZXR1cm4gdGhpcy5zZXRBbmltYXRpb25JbmRleCh0aGlzLmdldEFuaW1hdGlvbkluZGV4KCkgKyAxKVxuICB9LFxuICBpc0FuaW1hdGlvbkRvbmUgKCkge1xuICAgIHJldHVybiAodGhpcy5nZXRBbmltYXRpb25Qcm9wKCdyZXBlYXRDb3VudCcpID49XG4gICAgICB0aGlzLmdldEFuaW1hdGlvblByb3AoJ3JlcGVhdCcpXG4gICAgKVxuICB9LFxuICBuZXh0RnJhbWUgKGRvUmVzZXQgPSBmYWxzZSwgY2FtZXJhKSB7XG4gICAgaWYgKGRvUmVzZXQpIHRoaXMucmVzZXRBbmltYXRpb24oKVxuICAgIGNvbnN0IG5leHQgPSB0aGlzLmdldEFuaW1hdGlvbkZyYW1lQXQodGhpcy5nZXRBbmltYXRpb25JbmRleCgpKVxuICAgIGNvbnN0IGluY3JlbWVudEZyYW1lID0gKCkgPT4ge1xuICAgICAgdGhpcy5pbmNBbmltYXRpb25Qcm9wKCdmcmFtZXNTa2lwcGVkJylcbiAgICAgIGlmICh0aGlzLmdldEFuaW1hdGlvblByb3AoJ2ZyYW1lc1NraXBwZWQnKSA8IHRoaXMuZ2V0QW5pbWF0aW9uUHJvcCgnZGVsYXknKSkgcmV0dXJuIG5leHRcbiAgICAgIHRoaXMuc2V0QW5pbWF0aW9uUHJvcCgnZnJhbWVzU2tpcHBlZCcsIDApXG4gICAgICAgIC5pbmNBbmltYXRpb25JbmRleCgpXG4gICAgICByZXR1cm4gbmV4dFxuICAgIH1cblxuICAgIGluY3JlbWVudEZyYW1lKClcbiAgICByZXR1cm4gbmV4dFxuICB9LFxuXG4gIHJlc2V0ICgpIHtcbiAgICB0aGlzLnVwZGF0ZSh0cnVlKVxuXG4gICAgcmV0dXJuIHV0aWxzXG4gICAgICAuc2V0U3RhdGUodGhpcywge1xuICAgICAgICBhbmltYXRpb246IHtuYW1lOiBJRExFfVxuICAgICAgfSlcbiAgICAgIC5yZXNldEFuaW1hdGlvbigpXG4gIH0sXG5cbiAgZHJhd1BhcmFsbGF4TGF5ZXIgKGN0eCwgcG9zaXRpb24pIHtcbiAgICBjb25zdCBuZXh0RnJhbWUgPSB0aGlzLmdldEFuaW1hdGlvbkZyYW1lQXQodGhpcy5nZXRBbmltYXRpb25JbmRleCgpKVxuICAgIGNvbnN0IG1vZFggPSB1dGlscy5tb2R1bHVzKC1wb3NpdGlvbi54LCBuZXh0RnJhbWUud2lkdGgpXG4gICAgY29uc3QgY2xpcHBlZFdpZHRoID0gTWF0aC5taW4obmV4dEZyYW1lLndpZHRoIC0gbW9kWCwgR0FNRV9XSURUSClcbiAgICBjb25zdCBzaG91bGREdXBsaWNhdGUgPSAhIXRoaXMuZ2V0QW5pbWF0aW9uUHJvcCgnZHVwbGljYXRlJylcbiAgICBpZiAodGhpcy5nZXRBbmltYXRpb25Qcm9wKCdkdXBsaWNhdGVDb3VudCcpID4gdGhpcy5nZXRBbmltYXRpb25Qcm9wKCdkdXBsaWNhdGUnKSkge1xuICAgICAgaWYgKG1vZFggPT09IDApIHRoaXMuc3RhdGUuZGlzcGxheSA9IGZhbHNlXG4gICAgICBjdHguZHJhd0ltYWdlKG5leHRGcmFtZSwgLW1vZFgsIHBvc2l0aW9uLnkpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBpZiAoc2hvdWxkRHVwbGljYXRlICYmIG1vZFggPT09IDApIHtcbiAgICAgIHRoaXMuaW5jQW5pbWF0aW9uUHJvcCgnZHVwbGljYXRlQ291bnQnKVxuICAgIH1cbiAgICBjdHguZHJhd0ltYWdlKG5leHRGcmFtZSwgbW9kWCwgcG9zaXRpb24ueSwgY2xpcHBlZFdpZHRoLCBHQU1FX0hFSUdIVCwgMCwgMCwgY2xpcHBlZFdpZHRoLCBHQU1FX0hFSUdIVClcblxuICAgIGlmIChjbGlwcGVkV2lkdGggPCBHQU1FX1dJRFRIKSB7XG4gICAgICBjb25zdCByZW1haW5pbmcgPSBHQU1FX1dJRFRIIC0gY2xpcHBlZFdpZHRoXG4gICAgICBjdHguZHJhd0ltYWdlKG5leHRGcmFtZSwgMCwgcG9zaXRpb24ueSwgcmVtYWluaW5nLCBHQU1FX0hFSUdIVCwgY2xpcHBlZFdpZHRoLCAwLCByZW1haW5pbmcsIEdBTUVfSEVJR0hUKVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICBuZXh0UG9zaXRpb24gKGNhbWVyYSkge1xuICAgIHJldHVybiB1dGlscy52ZWN0b3JTdWJzdHJhY3QodGhpcy5zdGF0ZS5wb3NpdGlvbiwgY2FtZXJhLnBvc2l0aW9uKVxuICB9LFxuICBkcmF3UGFydGljbGUgKGN0eCwgY2FtZXJhKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLm5leHRQb3NpdGlvbihjYW1lcmEpXG4gICAgaWYgKHRoaXMuc3RhdGUucmFkaXVzIDw9IDApIHJldHVybiB0aGlzXG4gICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgY3R4LmFyYyhwb3NpdGlvbi54LCBwb3NpdGlvbi55LCB0aGlzLnN0YXRlLnJhZGl1cywgMCwgMiAqIE1hdGguUEksIGZhbHNlKVxuICAgIGN0eC5maWxsU3R5bGUgPSBgaHNsYSgke3RoaXMuc3RhdGUuaHVlfSwgMTAwJSwgNTAlLCAxKWBcbiAgICBjdHguZmlsbCgpXG4gIH0sXG4gIGRyYXdJbWFnZSAoY3R4LCBjYW1lcmEpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5uYW1lID09PSAncGFydGljbGUnKSB7XG4gICAgICByZXR1cm4gdGhpcy5kcmF3UGFydGljbGUoY3R4LCBjYW1lcmEpXG4gICAgfVxuICAgIGlmICghdGhpcy5zdGF0ZS5kaXNwbGF5KSByZXR1cm4gdGhpc1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5uZXh0UG9zaXRpb24oY2FtZXJhKVxuICAgIHRoaXMuZ2V0Qm91bmRpbmdSZWN0KClcblxuICAgIGlmICh0aGlzLmdldEFuaW1hdGlvblByb3AoJ2R1cGxpY2F0ZScpKSB7XG4gICAgICB0aGlzLmRyYXdQYXJhbGxheExheWVyKGN0eCwgcG9zaXRpb24pXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5leHQgPSB0aGlzLm5leHRGcmFtZShmYWxzZSlcbiAgICAgIGlmICghbmV4dCkge1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJvcHMubmFtZSA9PT0gJ2JhbGwnIHx8IHRoaXMucHJvcHMubmFtZSA9PT0gJ3BsYXllclR3bycpIHtcbiAgICAgIH1cbiAgICAgIGN0eC5kcmF3SW1hZ2UobmV4dCwgcG9zaXRpb24ueCwgcG9zaXRpb24ueSAtIHRoaXMuZ2V0Q3VycmVudEFuaW1hdGlvbkZyYW1lKCkuaGVpZ2h0KVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9LFxuXG4gIHJlbmRlciAoY3R4LCBjYW1lcmEpIHtcbiAgICB0aGlzLnVwZGF0ZSgpXG4gICAgcmV0dXJuIHRoaXMuZHJhd0ltYWdlKGN0eCwgY2FtZXJhKVxuICB9XG59XG5cbmNvbnN0IEVtaXRzUGFydGljbGVzID0ge1xuICBzdGF0ZToge1xuICAgIHBhcnRpY2xlT3JpZ2luOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH0sXG4gICAgbWF4UmFkaXVzOiAxMDAsXG4gICAgbWluUmFkaXVzOiA1LFxuICAgIHBhcnRpY2xlQ291bnQ6IDAsXG4gICAgaHVlOiAwXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgdGFyZ2V0UGFydGljbGVzOiAyNVxuICB9LFxuICBlbWl0UGFydGljbGVzIChhZGRSZW5kZXJhYmxlKSB7XG4gICAgdGhpcy5zdGF0ZS5wYXJ0aWNsZUNvdW50KytcbiAgICB0aGlzLnN0YXRlLmh1ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDM2MClcbiAgICBjb25zdCBwYXJ0aWNsZSA9IGNyZWF0ZVBhcnRpY2xlQXQodGhpcy5zdGF0ZS5wYXJ0aWNsZU9yaWdpbiwgdGhpcy5zdGF0ZS5odWUsIE1hdGgucmFuZG9tKCkgKiAodGhpcy5zdGF0ZS5tYXhSYWRpdXMgLSB0aGlzLnN0YXRlLm1pblJhZGl1cykgKyB0aGlzLnN0YXRlLm1pblJhZGl1cylcbiAgICB0aGlzLnN0YXRlLmFkZFJlbmRlcmFibGUoYFBBUlRJQ0xFJHtNYXRoLnJhbmRvbSgpfSAqIDEwMDAwMDBgLCBwYXJ0aWNsZSlcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmh1ZSlcbiAgfSxcbiAgdXBkYXRlICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucGFydGljbGVDb3VudCkgcmV0dXJuIHRoaXNcbiAgICB0aGlzLnN0YXRlLnBhcnRpY2xlQ291bnQrK1xuICAgIGNvbnN0IHBhcnRpY2xlID0gY3JlYXRlUGFydGljbGVBdCh0aGlzLnN0YXRlLnBhcnRpY2xlT3JpZ2luLCB0aGlzLnN0YXRlLmh1ZSwgTWF0aC5yYW5kb20oKSAqICh0aGlzLnN0YXRlLm1heFJhZGl1cyAtIHRoaXMuc3RhdGUubWluUmFkaXVzKSArIHRoaXMuc3RhdGUubWluUmFkaXVzKVxuICAgIHRoaXMuc3RhdGUuYWRkUmVuZGVyYWJsZShgUEFSVElDTEUke01hdGgucmFuZG9tKCl9ICogMTAwMDAwMGAsIHBhcnRpY2xlKVxuICAgIGlmICh0aGlzLnN0YXRlLnBhcnRpY2xlQ291bnQgPj0gdGhpcy5wcm9wcy50YXJnZXRQYXJ0aWNsZXMpIHV0aWxzLnNldFN0YXRlKHRoaXMsIEVtaXRzUGFydGljbGVzLnN0YXRlKVxuICB9XG59XG5cbmNvbnN0IEF0dGFja3MgPSB7XG4gIHN0YXRlOiB7XG4gICAgYXR0YWNraW5nOiBmYWxzZSxcbiAgICBzdXBlckF0dGFjazogZmFsc2VcbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBhbmltYXRpb25zOiB7XG4gICAgICBbQVRUQUNLSU5HXToge1xuICAgICAgICByZXBlYXQ6IDFcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGF0dGFjayAoc3VwZXJBdHRhY2sgPSBmYWxzZSkge1xuICAgIHJldHVybiB1dGlsc1xuICAgICAgLnNldFN0YXRlKHRoaXMsIHtcbiAgICAgICAgYXR0YWNraW5nOiB0cnVlLFxuICAgICAgICBzdXBlckF0dGFjazogc3VwZXJBdHRhY2ssXG4gICAgICAgIGFuaW1hdGlvbjoge25hbWU6IEFUVEFDS0lOR31cbiAgICAgIH0pXG4gICAgICAucmVzZXRBbmltYXRpb24oKVxuICB9LFxuICB1cGRhdGUgKGRvUmVzZXQgPSBmYWxzZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4gdXRpbHMuc2V0U3RhdGUodGhpcywge1xuICAgICAgLi4uQXR0YWNrcy5zdGF0ZSxcbiAgICAgIGFuaW1hdGlvbjoge25hbWU6IElETEV9XG4gICAgfSkucmVzZXRBbmltYXRpb24oKVxuXG4gICAgaWYgKGRvUmVzZXQpIHJldHVybiByZXNldCgpXG5cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5hdHRhY2tpbmcgJiYgdGhpcy5pc0FuaW1hdGlvbkRvbmUoKVxuICAgICAgPyByZXNldCgpXG4gICAgICA6IHRoaXNcbiAgfVxufVxuXG5jb25zdCBEaWVzID0ge1xuICBzdGF0ZToge1xuICAgIGR5aW5nOiBmYWxzZSxcbiAgICBkZWFkOiBmYWxzZSxcbiAgICBkZWFkQ291bnQ6IDBcbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBhbmltYXRpb25zOiB7XG4gICAgICBbRFlJTkddOiB7XG4gICAgICAgIGltYWdlczogW10sXG4gICAgICAgIGRlbGF5OiAwLFxuICAgICAgICByZXBlYXQ6IDFcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZGllICgpIHtcbiAgICB0aGlzLnByb3BzLm5hbWUgPT09ICdiYWxsJyAmJiB0aGlzLnN0YXRlLmluY3JlbWVudFNjb3JlKClcblxuICAgIHJldHVybiB1dGlsc1xuICAgICAgLnNldFN0YXRlKHRoaXMsIHtcbiAgICAgICAgZHlpbmc6IHRydWUsXG4gICAgICAgIGFuaW1hdGlvbjoge25hbWU6IERZSU5HfSxcbiAgICAgICAgYWNjZWxlcmF0aW9uOiB7XG4gICAgICAgICAgeTogMSxcbiAgICAgICAgICB4OiAwXG4gICAgICAgIH0sXG4gICAgICAgIHZlbG9jaXR5OiB7XG4gICAgICAgICAgeTogMTAsXG4gICAgICAgICAgeDogMFxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnJlc2V0QW5pbWF0aW9uKClcbiAgfSxcbiAgdXBkYXRlIChkb1Jlc2V0ID0gZmFsc2UpIHtcbiAgICBpZiAoZG9SZXNldCkgcmV0dXJuIHV0aWxzLnNldFN0YXRlKHRoaXMsIERpZXMuc3RhdGUpXG4gICAgaWYgKCF0aGlzLnN0YXRlLmR5aW5nICYmICF0aGlzLnN0YXRlLmRlYWQpIHJldHVybiB0aGlzXG4gICAgaWYgKHRoaXMucHJvcHMubmFtZSA9PT0gJ2JhbGwnICYmIHRoaXMuc3RhdGUuZGVhZCAmJiArK3RoaXMuc3RhdGUuZGVhZENvdW50ID4gMTIwKSB7XG4gICAgICB1dGlscy5zZXRTdGF0ZSh0aGlzLCB7ZGlzcGxheTogZmFsc2V9KVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pc0FuaW1hdGlvbkRvbmUoKVxuICAgICAgPyB1dGlscy5zZXRTdGF0ZSh0aGlzLCB7ZGVhZDogdHJ1ZX0pXG4gICAgICA6IHRoaXNcbiAgfVxufVxuXG5jb25zdCBWZWxvY2l0eUtpbGxzID0ge1xuICB1cGRhdGUgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmR5aW5nIHx8IHRoaXMuc3RhdGUuZGVhZCkgcmV0dXJuIHRoaXNcbiAgICBpZiAodXRpbHMudmVjdG9yR1QodGhpcy5zdGF0ZS52ZWxvY2l0eSwgNDApKSB7XG4gICAgICBjb25zdCBjZW50ZXJPZkJhbGwgPSB7XG4gICAgICAgIHg6IHRoaXMuc3RhdGUucG9zaXRpb24ueCArIHRoaXMuZ2V0Q3VycmVudEFuaW1hdGlvbkZyYW1lKCkud2lkdGggLyAyLFxuICAgICAgICB5OiB0aGlzLnN0YXRlLnBvc2l0aW9uLnkgLSB0aGlzLmdldEN1cnJlbnRBbmltYXRpb25GcmFtZSgpLmhlaWdodCAvIDJcbiAgICAgIH1cbiAgICAgIHV0aWxzLnNldFN0YXRlKHRoaXMsIHtcbiAgICAgICAgbWF4UmFkaXVzOiAxMCxcbiAgICAgICAgbWluUmFkaXVzOiAxLFxuICAgICAgICBhZGRSZW5kZXJhYmxlOiB0aGlzLnN0YXRlLmFkZFJlbmRlcmFibGUsXG4gICAgICAgIHBhcnRpY2xlT3JpZ2luOiB7Li4uY2VudGVyT2ZCYWxsfVxuICAgICAgfSlcbiAgICAgIHRoaXMuZW1pdFBhcnRpY2xlcygpXG4gICAgICB0aGlzLmRpZSgpXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IE1vdmVzID0ge1xuICBzdGF0ZToge1xuICAgIHZlbG9jaXR5OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICBydW5uaW5nVmVsb2NpdHk6IHtcbiAgICAgIHg6IDEwLFxuICAgICAgeTogMFxuICAgIH0sXG4gICAgYW5pbWF0aW9uczoge1xuICAgICAgW1dBTEtJTkddOiB7XG4gICAgICAgIG5hbWU6IFdBTEtJTkcsXG4gICAgICAgIGltYWdlczogW10sXG4gICAgICAgIGRlbGF5OiAwLFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbUlVOTklOR106IHtcbiAgICAgICAgbmFtZTogUlVOTklORyxcbiAgICAgICAgaW1hZ2VzOiBbXSxcbiAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtKVU1QSU5HXToge1xuICAgICAgICBuYW1lOiBKVU1QSU5HLFxuICAgICAgICBpbWFnZXM6IFtdLFxuICAgICAgICBkZWxheTogMCxcbiAgICAgICAgcmVwZWF0OiBJbmZpbml0eSxcbiAgICAgICAgZHVwbGljYXRlOiAwXG4gICAgICB9XG4gICAgfSxcbiAgICBtYXhWZWxvY2l0eToge1xuICAgICAgeDogNSxcbiAgICAgIHk6IDVcbiAgICB9LFxuICAgIG1pblZlbG9jaXR5OiB7XG4gICAgICB4OiAtNSxcbiAgICAgIHk6IC01XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZSAoKSB7XG4gICAgLy8gVE9ETyBSRUZBQ1RPUiB0aGlzIGNyYXBcbiAgICBjb25zdCB2ZWxvY2l0eSA9IHRoaXMuc3RhdGUudmVsb2NpdHlcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXR0YWNraW5nICYmIHRoaXMucHJvcHMubmFtZSAhPT0gJ2JhbGwnICYmICF0aGlzLnN0YXRlLmR5aW5nKSB7XG4gICAgICBpZiAodmVsb2NpdHkueCA9PT0gMCkge1xuICAgICAgICBpZiAoW1dBTEtJTkcsIFJVTk5JTkddLmluY2x1ZGVzKHRoaXMuc3RhdGUuYW5pbWF0aW9uLm5hbWUpKSB7XG4gICAgICAgICAgdXRpbHMuc2V0U3RhdGUodGhpcywge2FuaW1hdGlvbjoge25hbWU6IElETEV9fSkucmVzZXRBbmltYXRpb24oKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5hbmltYXRpb25zW1dBTEtJTkddLmltYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICB1dGlscy5zZXRTdGF0ZSh0aGlzLCB7YW5pbWF0aW9uOiB7bmFtZTogV0FMS0lOR319KVxuICAgICAgICB9IGlmICh0aGlzLnByb3BzLmFuaW1hdGlvbnNbUlVOTklOR10uaW1hZ2VzLmxlbmd0aCAmJiB2ZWxvY2l0eS54ID49IHRoaXMucHJvcHMucnVubmluZ1ZlbG9jaXR5LngpIHtcbiAgICAgICAgICB1dGlscy5zZXRTdGF0ZSh0aGlzLCB7YW5pbWF0aW9uOiB7bmFtZTogUlVOTklOR319KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodmVsb2NpdHkueSA9PT0gMCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5hbmltYXRpb24ubmFtZSA9PT0gSlVNUElORykge1xuICAgICAgICAgIHV0aWxzLnNldFN0YXRlKHRoaXMsIHthbmltYXRpb246IHtuYW1lOiBJRExFfX0pLnJlc2V0QW5pbWF0aW9uKClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYW5pbWF0aW9uc1tKVU1QSU5HXS5pbWFnZXMubGVuZ3RoKSB1dGlscy5zZXRTdGF0ZSh0aGlzLCB7YW5pbWF0aW9uOiB7bmFtZTogSlVNUElOR319KVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1dGlscy5zZXRTdGF0ZSh0aGlzLCB7cG9zaXRpb246IHRoaXMuZ2V0TmV4dFBvc2l0aW9uKCl9KVxuICB9LFxuXG4gIGdldE5leHRQb3NpdGlvbiAoKSB7XG4gICAgY29uc3QgbmV3UG9zaXRpb24gPSB1dGlscy52ZWN0b3JBZGQodGhpcy5zdGF0ZS5wb3NpdGlvbiwgdGhpcy5zdGF0ZS52ZWxvY2l0eSlcbiAgICByZXR1cm4gdXRpbHMudmVjdG9yTWF4KG5ld1Bvc2l0aW9uLCBHUk9VTkQpXG4gIH1cbn1cblxuY29uc3QgQWNjZWxlcmF0ZXMgPSB7XG4gIHN0YXRlOiB7XG4gICAgc2xvd0Rvd246IGZhbHNlLFxuICAgIGFjY2VsZXJhdGlvbjoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9XG4gIH0sXG4gIHN0b3BNb3ZpbmdYICgpIHtcbiAgICByZXR1cm4gdXRpbHMuc2V0U3RhdGUodGhpcywge1xuICAgICAgdmVsb2NpdHk6IHsgeDogMCB9LFxuICAgICAgYWNjZWxlcmF0aW9uOiB7eDogMH0sXG4gICAgICBzbG93RG93bjogZmFsc2VcbiAgICB9KVxuICB9LFxuICB1cGRhdGVWZWxvY2l0aWVzICgpIHtcbiAgICBjb25zdCBpc09uR3JvdW5kID0gKEdST1VORC55ID09PSB0aGlzLnN0YXRlLnBvc2l0aW9uLnkpXG4gICAgaWYgKCFpc09uR3JvdW5kKSB7XG4gICAgICB0aGlzLnN0YXRlLmFjY2VsZXJhdGlvbi55ID0gR1JBVklUWS55XG4gICAgfVxuICAgIGNvbnN0IG5ld1ZlbG9jaXR5ID0gY29tcG9zZShcbiAgICAgIHV0aWxzLnZlY3Rvck1pbkModGhpcy5wcm9wcy5taW5WZWxvY2l0eSksXG4gICAgICB1dGlscy52ZWN0b3JNYXhDKHRoaXMucHJvcHMubWF4VmVsb2NpdHkpLFxuICAgICAgdXRpbHMudmVjdG9yQWRkQyh0aGlzLnN0YXRlLmFjY2VsZXJhdGlvbilcbiAgICApKHRoaXMuc3RhdGUudmVsb2NpdHkpXG5cbiAgICBpZiAoaXNPbkdyb3VuZCAmJiB0aGlzLnN0YXRlLnZlbG9jaXR5LnkgPiAwKSB7XG4gICAgICBuZXdWZWxvY2l0eS55ID0gdGhpcy5zdGF0ZS5hY2NlbGVyYXRpb24ueSA9IDBcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5keWluZyB8fCB0aGlzLnN0YXRlLmRlYWQpIG5ld1ZlbG9jaXR5LnggPSAwXG5cbiAgICByZXR1cm4gdXRpbHMuc2V0U3RhdGUodGhpcywge3ZlbG9jaXR5OiBuZXdWZWxvY2l0eX0pXG4gIH0sXG4gIHVwZGF0ZUZsaXAgKG9sZFZlbG9jaXR5KSB7XG4gICAgY29uc3QgbmV3VmVsb2NpdHkgPSB0aGlzLnN0YXRlLnZlbG9jaXR5XG4gICAgaWYgKG5ld1ZlbG9jaXR5LnggIT09IDAgJiYgb2xkVmVsb2NpdHkueCAhPT0gMCkge1xuICAgICAgdGhpcy5zZXRBbmltYXRpb25Qcm9wKCdmbGlwcGVkJywgbmV3VmVsb2NpdHkueCA8IDApXG4gICAgfVxuICB9LFxuICBzaG91bGRTdG9wU2xvd2luZ0Rvd24gKCkge1xuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5zdGF0ZS5hY2NlbGVyYXRpb24ueCA+IDAgJiYgdGhpcy5zdGF0ZS52ZWxvY2l0eS54ID49IDApIHx8XG4gICAgICAgICh0aGlzLnN0YXRlLmFjY2VsZXJhdGlvbi54IDwgMCAmJiB0aGlzLnN0YXRlLnZlbG9jaXR5LnggPD0gMClcbiAgICApXG4gIH0sXG4gIHVwZGF0ZVNsb3dEb3duICgpIHtcbiAgICB0aGlzLnN0YXRlLnNsb3dEb3duICYmXG4gICAgICB0aGlzLnNob3VsZFN0b3BTbG93aW5nRG93bigpICYmXG4gICAgICB0aGlzLnN0b3BNb3ZpbmdYKClcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICB1cGRhdGUgKCkge1xuICAgIHJldHVybiB0aGlzXG4gICAgICAudXBkYXRlVmVsb2NpdGllcygpXG4gICAgICAudXBkYXRlU2xvd0Rvd24oKVxuICAgICAgLnVwZGF0ZUZsaXAodGhpcy5zdGF0ZS52ZWxvY2l0eSlcbiAgfVxufVxuXG5jb25zdCBCbG9ja3MgPSB7XG4gIHByb3BzOiB7XG4gICAgYmxvY2tzOiB0cnVlLFxuICAgIGRhbWFnZXM6IGZhbHNlLFxuICAgIGVsYXN0aWNpdHk6IDAsXG4gICAgbWFzczogMTAwXG4gIH1cbn1cblxuY29uc3QgRXhwbG9kZXMgPSB7XG4gIHByb3BzOiB7XG4gICAgekluZGV4OiA5LFxuICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgIFtJRExFXToge1xuICAgICAgICBpbWFnZXM6IFtdLFxuICAgICAgICBkZWxheTogSW5maW5pdHksXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICAgIH0sXG4gICAgICBbRVhQTE9ESU5HXToge1xuICAgICAgICBpbWFnZXM6IFtdLFxuICAgICAgICBkZWxheTogMTAsXG4gICAgICAgIHJlcGVhdDogM1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc3RhdGU6IHtcbiAgICBhbmltYXRpb246IHtuYW1lOiBJRExFfSxcbiAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICBleHBsb2Rpbmc6IGZhbHNlXG4gIH0sXG4gIGV4cGxvZGUgKCkge1xuICAgIHRoaXMucmVzZXRBbmltYXRpb24oKVxuICAgIHV0aWxzLnNldFN0YXRlKHRoaXMsIHtcbiAgICAgIGV4cGxvZGluZzogdHJ1ZSxcbiAgICAgIHZlbG9jaXR5OiB7eDogMH0sXG4gICAgICBhbmltYXRpb246IHtuYW1lOiBFWFBMT0RJTkd9XG4gICAgfSlcbiAgfSxcbiAgdXBkYXRlIChkb1Jlc2V0KSB7XG4gICAgY29uc3QgcmVzZXQgPSAoKSA9PiB1dGlscy5zZXRTdGF0ZSh0aGlzLCBFeHBsb2Rlcy5zdGF0ZSkucmVzZXRBbmltYXRpb24oKVxuXG4gICAgaWYgKGRvUmVzZXQpIHJldHVybiByZXNldCgpXG4gIH1cbn1cblxuY29uc3QgZ3JvdW5kID0gbWl4aW5BbGwoW1JlbmRlcmFibGVdLCB7XG4gIHN0YXRlOiB7XG4gICAgYW5pbWF0aW9uOiB7bmFtZTogSURMRX0sXG4gICAgd2lkdGg6IEdBTUVfV0lEVEgsXG4gICAgaGVpZ2h0OiBHQU1FX0hFSUdIVFxuICB9LFxuICBwcm9wczoge1xuICAgIHpJbmRleDogLTEsXG4gICAgYW5pbWF0aW9uczoge1xuICAgICAgW0lETEVdOiB7XG4gICAgICAgIGltYWdlczogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoR1JPVU5EX0lNQUdFKV0sXG4gICAgICAgIGR1cGxpY2F0ZTogSW5maW5pdHksXG4gICAgICAgIGRlbGF5OiBJbmZpbml0eSxcbiAgICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgICAgfVxuICAgIH1cbiAgfVxufSlcblxuY29uc3Qgc2t5ID0gbWl4aW5BbGwoW1JlbmRlcmFibGVdLCB7XG4gIHN0YXRlOiB7XG4gICAgYW5pbWF0aW9uOiB7bmFtZTogSURMRX0sXG4gICAgd2lkdGg6IEdBTUVfV0lEVEgsXG4gICAgaGVpZ2h0OiBHQU1FX0hFSUdIVFxuICB9LFxuICBwcm9wczoge1xuICAgIHpJbmRleDogLTEwLFxuICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgIFtJRExFXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKFNLWV9JTUFHRSldLFxuICAgICAgICBkdXBsaWNhdGU6IEluZmluaXR5LFxuICAgICAgICBkZWxheTogSW5maW5pdHksXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pXG5cbmNvbnN0IGNsb3VkcyA9IG1peGluQWxsKFtSZW5kZXJhYmxlLCBNb3Zlc10sIHtcbiAgc3RhdGU6IHtcbiAgICB2ZWxvY2l0eToge3g6IC0yfSxcbiAgICBhbmltYXRpb246IHtuYW1lOiBJRExFLCBkdXBsaWNhdGVDb3VudDogMH1cbiAgfSxcbiAgcHJvcHM6IHtcbiAgICB6SW5kZXg6IC05LFxuICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgIFtJRExFXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKENMT1VEU19JTUFHRSldLFxuICAgICAgICBkZWxheTogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogSW5maW5pdHksXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pXG5cbmNvbnN0IENvbG91cmZ1bCA9IHtcbiAgdXBkYXRlICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5keWluZyB8fCB0aGlzLnN0YXRlLmRlYWQpIHJldHVybiB0aGlzXG4gICAgaWYgKHV0aWxzLnZlY3RvckxUKHRoaXMuc3RhdGUudmVsb2NpdHksIDEwKSkgdXRpbHMuc2V0U3RhdGUodGhpcywge2FuaW1hdGlvbjoge25hbWU6IElETEV9fSlcbiAgICBpZiAodXRpbHMudmVjdG9yR1QodGhpcy5zdGF0ZS52ZWxvY2l0eSwgMjApKSB1dGlscy5zZXRTdGF0ZSh0aGlzLCB7YW5pbWF0aW9uOiB7bmFtZTogV0FMS0lOR319KVxuICAgIGlmICh1dGlscy52ZWN0b3JHVCh0aGlzLnN0YXRlLnZlbG9jaXR5LCA0MCkpIHV0aWxzLnNldFN0YXRlKHRoaXMsIHthbmltYXRpb246IHtuYW1lOiBKVU1QSU5HfX0pXG4gICAgaWYgKHV0aWxzLnZlY3RvckdUKHRoaXMuc3RhdGUudmVsb2NpdHksIDUwKSkgdXRpbHMuc2V0U3RhdGUodGhpcywge2FuaW1hdGlvbjoge25hbWU6IFJVTk5JTkd9fSlcbiAgfVxufVxuXG5jb25zdCBCYWxsMCA9IHtcbiAgcHJvcHM6IHtcbiAgICBuYW1lOiAnYmFsbCcsXG4gICAgZWxhc3RpY2l0eTogMC4yLFxuICAgIG1hc3M6IDIwMCxcbiAgICB6SW5kZXg6IDEsXG4gICAgcnVubmluZ1ZlbG9jaXR5OiB7XG4gICAgICB4OiAyMCxcbiAgICAgIHk6IDIwXG4gICAgfSxcbiAgICBtYXhWZWxvY2l0eToge1xuICAgICAgeDogMTUwLFxuICAgICAgeTogMTUwXG4gICAgfSxcbiAgICBtaW5WZWxvY2l0eToge1xuICAgICAgeDogLTUwLFxuICAgICAgeTogLTUwXG4gICAgfSxcbiAgICBhbmltYXRpb25zOiB7XG4gICAgICBbSURMRV06IHtcbiAgICAgICAgaW1hZ2VzOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMMF9JRExFKV0sXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwwX0lETEUpXSxcbiAgICAgICAgZGVsYXk6IDIwLFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbV0FMS0lOR106IHtcbiAgICAgICAgaW1hZ2VzOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMMF9XQUxLSU5HKV0sXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwwX1dBTEtJTkcpXSxcbiAgICAgICAgZGVsYXk6IDIwLFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbUlVOTklOR106IHtcbiAgICAgICAgaW1hZ2VzOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMMF9SVU5OSU5HKV0sXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwwX1JVTk5JTkcpXSxcbiAgICAgICAgZGVsYXk6IDIwLFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbSlVNUElOR106IHtcbiAgICAgICAgaW1hZ2VzOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMMF9KVU1QSU5HKV0sXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwwX0pVTVBJTkcpXSxcbiAgICAgICAgZGVsYXk6IDIwLFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbRFlJTkddOiB7XG4gICAgICAgIGltYWdlczogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoQkFMTF9EWUlORyksXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IHV0aWxzLm5ld0ltYWdlc0Zyb21QYXRoKEJBTExfRFlJTkcpLFxuICAgICAgICBkZWxheTogMTAsXG4gICAgICAgIHJlcGVhdDogMyxcbiAgICAgICAgZHVwbGljYXRlOiAwXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IEJhbGwxID0ge1xuICBwcm9wczoge1xuICAgIG5hbWU6ICdiYWxsJyxcbiAgICBlbGFzdGljaXR5OiAwLjksXG4gICAgbWFzczogNDAsXG4gICAgekluZGV4OiAxLFxuICAgIHJ1bm5pbmdWZWxvY2l0eToge1xuICAgICAgeDogMjAsXG4gICAgICB5OiAyMFxuICAgIH0sXG4gICAgbWF4VmVsb2NpdHk6IHtcbiAgICAgIHg6IDUwLFxuICAgICAgeTogNTBcbiAgICB9LFxuICAgIG1pblZlbG9jaXR5OiB7XG4gICAgICB4OiAtNTAsXG4gICAgICB5OiAtNTBcbiAgICB9LFxuICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgIFtJRExFXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwxX0lETEUpXSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDFfSURMRSldLFxuICAgICAgICBkZWxheTogMjAsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtXQUxLSU5HXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwxX1dBTEtJTkcpXSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDFfV0FMS0lORyldLFxuICAgICAgICBkZWxheTogMjAsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtSVU5OSU5HXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwxX1JVTk5JTkcpXSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDFfUlVOTklORyldLFxuICAgICAgICBkZWxheTogMjAsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtKVU1QSU5HXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwxX0pVTVBJTkcpXSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDFfSlVNUElORyldLFxuICAgICAgICBkZWxheTogMjAsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtEWUlOR106IHtcbiAgICAgICAgaW1hZ2VzOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChCQUxMX0RZSU5HKSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoQkFMTF9EWUlORyksXG4gICAgICAgIGRlbGF5OiAzLFxuICAgICAgICByZXBlYXQ6IDEwLFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY29uc3QgQmFsbDIgPSB7XG4gIHByb3BzOiB7XG4gICAgbmFtZTogJ2JhbGwnLFxuICAgIGVsYXN0aWNpdHk6IDAuNyxcbiAgICBtYXNzOiA4NDAsXG4gICAgekluZGV4OiAxLFxuICAgIHJ1bm5pbmdWZWxvY2l0eToge1xuICAgICAgeDogMjAsXG4gICAgICB5OiAyMFxuICAgIH0sXG4gICAgbWF4VmVsb2NpdHk6IHtcbiAgICAgIHg6IDE1MCxcbiAgICAgIHk6IDE1MFxuICAgIH0sXG4gICAgbWluVmVsb2NpdHk6IHtcbiAgICAgIHg6IC01MCxcbiAgICAgIHk6IC01MFxuICAgIH0sXG4gICAgYW5pbWF0aW9uczoge1xuICAgICAgW0lETEVdOiB7XG4gICAgICAgIGltYWdlczogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDJfSURMRSldLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMMl9JRExFKV0sXG4gICAgICAgIGRlbGF5OiAyMCxcbiAgICAgICAgcmVwZWF0OiBJbmZpbml0eSxcbiAgICAgICAgZHVwbGljYXRlOiAwXG4gICAgICB9LFxuICAgICAgW1dBTEtJTkddOiB7XG4gICAgICAgIGltYWdlczogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDJfV0FMS0lORyldLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMMl9XQUxLSU5HKV0sXG4gICAgICAgIGRlbGF5OiAyMCxcbiAgICAgICAgcmVwZWF0OiBJbmZpbml0eSxcbiAgICAgICAgZHVwbGljYXRlOiAwXG4gICAgICB9LFxuICAgICAgW1JVTk5JTkddOiB7XG4gICAgICAgIGltYWdlczogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDJfUlVOTklORyldLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMMl9SVU5OSU5HKV0sXG4gICAgICAgIGRlbGF5OiAyMCxcbiAgICAgICAgcmVwZWF0OiBJbmZpbml0eSxcbiAgICAgICAgZHVwbGljYXRlOiAwXG4gICAgICB9LFxuICAgICAgW0pVTVBJTkddOiB7XG4gICAgICAgIGltYWdlczogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDJfSlVNUElORyldLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMMl9KVU1QSU5HKV0sXG4gICAgICAgIGRlbGF5OiAyMCxcbiAgICAgICAgcmVwZWF0OiBJbmZpbml0eSxcbiAgICAgICAgZHVwbGljYXRlOiAwXG4gICAgICB9LFxuICAgICAgW0RZSU5HXToge1xuICAgICAgICBpbWFnZXM6IHV0aWxzLm5ld0ltYWdlc0Zyb21QYXRoKEJBTExfRFlJTkcpLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChCQUxMX0RZSU5HKSxcbiAgICAgICAgZGVsYXk6IDEwLFxuICAgICAgICByZXBlYXQ6IDMsXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBCYWxsMyA9IHtcbiAgcHJvcHM6IHtcbiAgICBuYW1lOiAnYmFsbCcsXG4gICAgZWxhc3RpY2l0eTogMC4xLFxuICAgIG1hc3M6IDQ0MCxcbiAgICB6SW5kZXg6IDEsXG4gICAgcnVubmluZ1ZlbG9jaXR5OiB7XG4gICAgICB4OiAyMCxcbiAgICAgIHk6IDIwXG4gICAgfSxcbiAgICBtYXhWZWxvY2l0eToge1xuICAgICAgeDogMTUwLFxuICAgICAgeTogMTUwXG4gICAgfSxcbiAgICBtaW5WZWxvY2l0eToge1xuICAgICAgeDogLTUwLFxuICAgICAgeTogLTUwXG4gICAgfSxcbiAgICBhbmltYXRpb25zOiB7XG4gICAgICBbSURMRV06IHtcbiAgICAgICAgaW1hZ2VzOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMM19JRExFKV0sXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwzX0lETEUpXSxcbiAgICAgICAgZGVsYXk6IDIwLFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbV0FMS0lOR106IHtcbiAgICAgICAgaW1hZ2VzOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMM19XQUxLSU5HKV0sXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwzX1dBTEtJTkcpXSxcbiAgICAgICAgZGVsYXk6IDIwLFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbUlVOTklOR106IHtcbiAgICAgICAgaW1hZ2VzOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMM19SVU5OSU5HKV0sXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwzX1JVTk5JTkcpXSxcbiAgICAgICAgZGVsYXk6IDIwLFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbSlVNUElOR106IHtcbiAgICAgICAgaW1hZ2VzOiBbdXRpbHMubmV3SW1hZ2VGcm9tUGF0aChCQUxMM19KVU1QSU5HKV0sXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEwzX0pVTVBJTkcpXSxcbiAgICAgICAgZGVsYXk6IDIwLFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbRFlJTkddOiB7XG4gICAgICAgIGltYWdlczogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoQkFMTF9EWUlORyksXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IHV0aWxzLm5ld0ltYWdlc0Zyb21QYXRoKEJBTExfRFlJTkcpLFxuICAgICAgICBkZWxheTogMTAsXG4gICAgICAgIHJlcGVhdDogMyxcbiAgICAgICAgZHVwbGljYXRlOiAwXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IEJhbGw0ID0ge1xuICBwcm9wczoge1xuICAgIG5hbWU6ICdiYWxsJyxcbiAgICBlbGFzdGljaXR5OiAwLjIsXG4gICAgbWFzczogMjQwLFxuICAgIHpJbmRleDogMSxcbiAgICBydW5uaW5nVmVsb2NpdHk6IHtcbiAgICAgIHg6IDIwLFxuICAgICAgeTogMjBcbiAgICB9LFxuICAgIG1heFZlbG9jaXR5OiB7XG4gICAgICB4OiAxNTAsXG4gICAgICB5OiAxNTBcbiAgICB9LFxuICAgIG1pblZlbG9jaXR5OiB7XG4gICAgICB4OiAtNTAsXG4gICAgICB5OiAtNTBcbiAgICB9LFxuICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgIFtJRExFXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEw0X0lETEUpXSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDRfSURMRSldLFxuICAgICAgICBkZWxheTogMjAsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtXQUxLSU5HXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEw0X1dBTEtJTkcpXSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDRfV0FMS0lORyldLFxuICAgICAgICBkZWxheTogMjAsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtSVU5OSU5HXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEw0X1JVTk5JTkcpXSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDRfUlVOTklORyldLFxuICAgICAgICBkZWxheTogMjAsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtKVU1QSU5HXToge1xuICAgICAgICBpbWFnZXM6IFt1dGlscy5uZXdJbWFnZUZyb21QYXRoKEJBTEw0X0pVTVBJTkcpXSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogW3V0aWxzLm5ld0ltYWdlRnJvbVBhdGgoQkFMTDRfSlVNUElORyldLFxuICAgICAgICBkZWxheTogMjAsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtEWUlOR106IHtcbiAgICAgICAgaW1hZ2VzOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChCQUxMX0RZSU5HKSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoQkFMTF9EWUlORyksXG4gICAgICAgIGRlbGF5OiAxMCxcbiAgICAgICAgcmVwZWF0OiAzLFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcGxheWVyT25lID0gbWl4aW5BbGwoW1JlbmRlcmFibGUsIE1vdmVzLCBBY2NlbGVyYXRlcywgQXR0YWNrcywgRGllcywgQmxvY2tzLCBFbWl0c1BhcnRpY2xlc10sIHtcbiAgcHJvcHM6IHtcbiAgICBibG9ja3M6IHRydWUsXG4gICAgekluZGV4OiAxLFxuICAgIGVsYXN0aWNpdHk6IDAuMixcbiAgICBtYXNzOiA1MDAsXG4gICAgcmFkaXVzOiAxMjUsXG4gICAgbWF4VmVsb2NpdHk6IHtcbiAgICAgIHg6IDIwMCxcbiAgICAgIHk6IDVcbiAgICB9LFxuICAgIG1pblZlbG9jaXR5OiB7XG4gICAgICB4OiAtMjAwLFxuICAgICAgeTogLTVcbiAgICB9LFxuICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgIFtJRExFXToge1xuICAgICAgICBpbWFnZXM6IHV0aWxzLm5ld0ltYWdlc0Zyb21QYXRoKFBMQVlFUl8xX0lNQUdFUyksXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IHV0aWxzLm5ld0ltYWdlc0Zyb21QYXRoKFBMQVlFUl8xX0lNQUdFU19GKSxcbiAgICAgICAgZGVsYXk6IDgsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtXQUxLSU5HXToge1xuICAgICAgICBpbWFnZXM6IHV0aWxzLm5ld0ltYWdlc0Zyb21QYXRoKFBMQVlFUl8xX1dBTEtJTkdfSU1BR0VTKSxcbiAgICAgICAgaW1hZ2VzRmxpcHBlZDogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoUExBWUVSXzFfV0FMS0lOR19JTUFHRVNfRiksXG4gICAgICAgIGRlbGF5OiA0LFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5LFxuICAgICAgICBkdXBsaWNhdGU6IDBcbiAgICAgIH0sXG4gICAgICBbUlVOTklOR106IHtcbiAgICAgICAgaW1hZ2VzOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMV9SVU5OSU5HX0lNQUdFUyksXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IHV0aWxzLm5ld0ltYWdlc0Zyb21QYXRoKFBMQVlFUl8xX1JVTk5JTkdfSU1BR0VTX0YpLFxuICAgICAgICBkZWxheTogNCxcbiAgICAgICAgcmVwZWF0OiBJbmZpbml0eSxcbiAgICAgICAgZHVwbGljYXRlOiAwXG4gICAgICB9LFxuICAgICAgW0pVTVBJTkddOiB7XG4gICAgICAgIGltYWdlczogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoUExBWUVSXzFfSlVNUElOR19JTUFHRVMpLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMV9KVU1QSU5HX0lNQUdFU19GKSxcbiAgICAgICAgZGVsYXk6IDgsXG4gICAgICAgIHJlcGVhdDogSW5maW5pdHksXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtBVFRBQ0tJTkddOiB7XG4gICAgICAgIGltYWdlczogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoUExBWUVSXzFfQVRUQUNLX0lNQUdFUyksXG4gICAgICAgIGltYWdlc0ZsaXBwZWQ6IHV0aWxzLm5ld0ltYWdlc0Zyb21QYXRoKFBMQVlFUl8xX0FUVEFDS19JTUFHRVNfRiksXG4gICAgICAgIGRlbGF5OiA0LFxuICAgICAgICByZXBlYXQ6IDEsXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfSxcbiAgICAgIFtEWUlOR106IHtcbiAgICAgICAgaW1hZ2VzOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMV9EWUlOR19JTUFHRVMpLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMV9EWUlOR19JTUFHRVNfRiksXG4gICAgICAgIGRlbGF5OiA0LFxuICAgICAgICByZXBlYXQ6IDEsXG4gICAgICAgIGR1cGxpY2F0ZTogMFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc3RhdGU6IHtcbiAgICBoZWFsdGg6IDEwMCxcbiAgICBhbmltYXRpb246IHtuYW1lOiBJRExFfSxcbiAgICBwb3NpdGlvbjoge1xuICAgICAgeDogR0FNRV9XSURUSCAvIDUsXG4gICAgICB5OiBHQU1FX0hFSUdIVCAtIDQwMFxuICAgIH0sXG4gICAgaGFkb3VrZW46IDBcbiAgfSxcbiAgdXBkYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5wb3NpdGlvbi54IDwgMFxuICAgICAgPyB1dGlscy5zZXRTdGF0ZSh0aGlzLCB7cG9zaXRpb246IHt4OiAwfSwgdmVsb2NpdHk6IHt4OiAwfX0pXG4gICAgICA6IHRoaXNcbiAgfSxcbiAgZG9Nb3ZlIChkaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gdXRpbHMuc2V0U3RhdGUodGhpcywge1xuICAgICAgc2xvd0Rvd246IGZhbHNlLFxuICAgICAgYWNjZWxlcmF0aW9uOiB7XG4gICAgICAgIHg6IGRpcmVjdGlvbiA9PT0gTU9WRV9MRUZUID8gLTEgOiAxXG4gICAgICB9XG4gICAgfSlcbiAgfSxcbiAgc3RvcE1vdmUgKGRpcmVjdGlvbikge1xuICAgIHV0aWxzLnNldFN0YXRlKHRoaXMsIHtcbiAgICAgIHNsb3dEb3duOiB0cnVlLFxuICAgICAgYWNjZWxlcmF0aW9uOiB7eDogLU1hdGguc2lnbih0aGlzLnN0YXRlLnZlbG9jaXR5LngpICogRlJJQ1RJT04ueH0gLy8gVE9ETyByZWZhY3RvciB3aXRoIHZlY3RvciBtZXRob2RzXG4gICAgfSlcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICBkb0p1bXAgKCkge1xuICAgIGNvbnN0IGlzT25Hcm91bmQgPSB0aGlzLnN0YXRlLnBvc2l0aW9uLnkgPT09IEdST1VORC55XG4gICAgY29uc3QgY2FuRG91YmxlSnVtcCA9IHRoaXMuc3RhdGUudmVsb2NpdHkueSA+IDAgJiYgdGhpcy5zdGF0ZS52ZWxvY2l0eS55IDwgMTBcbiAgICBpZiAoaXNPbkdyb3VuZCB8fCBjYW5Eb3VibGVKdW1wKSB7XG4gICAgICB0aGlzLnN0YXRlLnZlbG9jaXR5LnkgLT0gODBcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcbiAgZG9BdHRhY2sgKHN1cGVyQXR0YWNrLCBhZGRSZW5kZXJhYmxlLCBzb3VuZCkge1xuICAgIHRoaXMuYXR0YWNrKHN1cGVyQXR0YWNrKVxuXG4gICAgaWYgKCFzdXBlckF0dGFjaykgcmV0dXJuIHRoaXNcbiAgICBzb3VuZCAmJiBzb3VuZCgpXG5cbiAgICBjb25zdCBjZW50ZXJPZlBsYXllciA9IHtcbiAgICAgIHg6IHRoaXMuc3RhdGUucG9zaXRpb24ueCArIHRoaXMuZ2V0Q3VycmVudEFuaW1hdGlvbkZyYW1lKCkud2lkdGggLyAyLFxuICAgICAgeTogdGhpcy5zdGF0ZS5wb3NpdGlvbi55IC0gdGhpcy5nZXRDdXJyZW50QW5pbWF0aW9uRnJhbWUoKS5oZWlnaHQgLyAyXG4gICAgfVxuICAgIHV0aWxzLnNldFN0YXRlKHRoaXMsIHthZGRSZW5kZXJhYmxlLCBwYXJ0aWNsZU9yaWdpbjogey4uLmNlbnRlck9mUGxheWVyfX0pXG4gICAgdGhpcy5lbWl0UGFydGljbGVzKClcbiAgICByZXR1cm4gdGhpc1xuICB9LFxuICBoYW5kbGVBY3Rpb24gKGFjdGlvbiwgYWRkUmVuZGVyYWJsZSwgc291bmQpIHtcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSBNT1ZFX0xFRlQ6XG4gICAgICAgIHRoaXMuZG9Nb3ZlKGFjdGlvbilcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgTU9WRV9SSUdIVDpcbiAgICAgICAgdGhpcy5kb01vdmUoYWN0aW9uKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBBVFRBQ0s6XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmhhZG91a2VuKSB7XG4gICAgICAgICAgdGhpcy5kb0F0dGFjayh0cnVlLCBhZGRSZW5kZXJhYmxlLCBzb3VuZClcbiAgICAgICAgICB0aGlzLnN0YXRlLmhhZG91a2VuLS1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBTV09SRDpcbiAgICAgICAgdGhpcy5kb0F0dGFjayhmYWxzZSlcbiAgICB9XG4gIH0sXG4gIGhhbmRsZUFjdGlvblN0b3AgKGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlIE1PVkVfTEVGVDpcbiAgICAgICAgdGhpcy5zdG9wTW92ZShhY3Rpb24pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIE1PVkVfUklHSFQ6XG4gICAgICAgIHRoaXMuc3RvcE1vdmUoYWN0aW9uKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBKVU1QOlxuICAgICAgICB0aGlzLmRvSnVtcCgpXG4gICAgfVxuICB9XG59KVxuXG5jb25zdCBQYXJ0aWNsZSA9IHtcbiAgc3RhdGU6IHtcbiAgICBwb3NpdGlvbjoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9LFxuICAgIHZlbG9jaXR5OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH0sXG4gICAgcmFkaXVzOiA1LFxuICAgIGh1ZTogMFxuICB9LFxuICBwcm9wczoge1xuICAgIG5hbWU6ICdwYXJ0aWNsZScsXG4gICAgekluZGV4OiAxMFxuICB9LFxuICB1cGRhdGUgKCkge1xuICAgIHRoaXMuc3RhdGUucG9zaXRpb24gPSB1dGlscy52ZWN0b3JBZGQoXG4gICAgICB0aGlzLnN0YXRlLnBvc2l0aW9uLCB0aGlzLnN0YXRlLnZlbG9jaXR5XG4gICAgKVxuICAgIHRoaXMuc3RhdGUucmFkaXVzIC09IDAuNTBcbiAgICB0aGlzLnN0YXRlLmh1ZSAtPSAxXG4gICAgaWYgKHRoaXMuc3RhdGUucmFkaXVzIDw9IDApIHV0aWxzLnNldFN0YXRlKHRoaXMsIHtkaXNwbGF5OiBmYWxzZX0pXG4gIH1cbn1cblxuY29uc3QgY3JlYXRlUGFydGljbGVBdCA9IChwb3NpdGlvbiwgaHVlLCByYWRpdXMpID0+IHtcbiAgcmV0dXJuIG1peGluQWxsKFtSZW5kZXJhYmxlLCBQYXJ0aWNsZV0sIHtcbiAgICBzdGF0ZToge1xuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgeDogcG9zaXRpb24ueCxcbiAgICAgICAgeTogcG9zaXRpb24ueVxuICAgICAgfSxcbiAgICAgIHZlbG9jaXR5OiB7XG4gICAgICAgIHg6IC0yMCArIE1hdGgucmFuZG9tKCkgKiA0MCxcbiAgICAgICAgeTogLTIwICsgTWF0aC5yYW5kb20oKSAqIDQwXG4gICAgICB9LFxuICAgICAgaHVlOiBodWUsXG4gICAgICByYWRpdXM6IHJhZGl1c1xuICAgIH1cbiAgfSlcbn1cblxuY29uc3QgcGxheWVyVHdvID0gbWl4aW5BbGwoW1JlbmRlcmFibGUsIE1vdmVzLCBBY2NlbGVyYXRlcywgRGllcywgQmxvY2tzXSwge1xuICBwcm9wczoge1xuICAgIG5hbWU6ICdwbGF5ZXJUd28nLFxuICAgIGJsb2NrczogdHJ1ZSxcbiAgICBkYW1hZ2VzOiAxMCxcbiAgICBtYXNzOiAzMDAsXG4gICAgZWxhc3RpY2l0eTogMC4zLFxuICAgIHpJbmRleDogMSxcbiAgICBhbmltYXRpb25zOiB7XG4gICAgICBbSURMRV06IHtcbiAgICAgICAgaW1hZ2VzOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMl9JTUFHRVMpLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMl9JTUFHRVMpLFxuICAgICAgICBkZWxheTogNSxcbiAgICAgICAgcmVwZWF0OiBJbmZpbml0eVxuICAgICAgfSxcbiAgICAgIFtEWUlOR106IHtcbiAgICAgICAgaW1hZ2VzOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMl9EWUlOR19JTUFHRVMpLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMl9EWUlOR19JTUFHRVMpLFxuICAgICAgICBkZWxheTogNSxcbiAgICAgICAgcmVwZWF0OiAxXG4gICAgICB9LFxuICAgICAgW1dBTEtJTkddOiB7XG4gICAgICAgIGltYWdlczogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoUExBWUVSXzJfV0FMS0lOR19JTUFHRVMpLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMl9XQUxLSU5HX0lNQUdFUyksXG4gICAgICAgIGRlbGF5OiA0LFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgICB9LFxuICAgICAgW1JVTk5JTkddOiB7XG4gICAgICAgIGltYWdlczogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoUExBWUVSXzJfV0FMS0lOR19JTUFHRVMpLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMl9XQUxLSU5HX0lNQUdFUyksXG4gICAgICAgIGRlbGF5OiA0LFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgICB9LFxuICAgICAgW0pVTVBJTkddOiB7XG4gICAgICAgIGltYWdlczogdXRpbHMubmV3SW1hZ2VzRnJvbVBhdGgoUExBWUVSXzJfSlVNUElOR19JTUFHRVMpLFxuICAgICAgICBpbWFnZXNGbGlwcGVkOiB1dGlscy5uZXdJbWFnZXNGcm9tUGF0aChQTEFZRVJfMl9KVU1QSU5HX0lNQUdFUyksXG4gICAgICAgIGRlbGF5OiA0LFxuICAgICAgICByZXBlYXQ6IEluZmluaXR5XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzdGF0ZToge1xuICAgIGFuaW1hdGlvbjoge25hbWU6IElETEV9LFxuICAgIHBvc2l0aW9uOiB7XG4gICAgICB4OiBHQU1FX1dJRFRIIC8gMS41LFxuICAgICAgeTogR0FNRV9IRUlHSFQgLSA4MDBcbiAgICB9LFxuICAgIHZlbG9jaXR5OiB7XG4gICAgICB4OiAtMC41LFxuICAgICAgeTogMFxuICAgIH1cbiAgfVxufSlcblxuY29uc3QgZmlyZWJhbGwgPSBtaXhpbkFsbChbUmVuZGVyYWJsZSwgTW92ZXMsIEV4cGxvZGVzLCB7fV0sIHt9KVxuXG5jb25zdCBjYW1lcmEgPSB7XG4gIHBvc2l0aW9uOiB7eDogMCwgeTogMH0sXG4gIHRhcmdldDogcGxheWVyT25lLFxuICB1cGRhdGUgKCkge1xuICAgIC8vIFRPRE8gcmVmYWN0b3IgdG8gdmVjdG9yIGNhbGN1bGF0aW9uc1xuICAgIGNvbnN0IHBsYXllckNhbWVyYURpZmYgPSB0aGlzLnRhcmdldC5zdGF0ZS5wb3NpdGlvbi54IC0gdGhpcy5wb3NpdGlvbi54XG4gICAgaWYgKHBsYXllckNhbWVyYURpZmYgPiBNQVhfQ0FNRVJBX1RPX1BMQVlFUikge1xuICAgICAgdGhpcy5wb3NpdGlvbi54ICs9IChwbGF5ZXJDYW1lcmFEaWZmKSAtIE1BWF9DQU1FUkFfVE9fUExBWUVSXG4gICAgfSBlbHNlIGlmIChwbGF5ZXJDYW1lcmFEaWZmIDwgTUlOX0NBTUVSQV9UT19QTEFZRVIpIHtcbiAgICAgIHRoaXMucG9zaXRpb24ueCAtPSBNSU5fQ0FNRVJBX1RPX1BMQVlFUiAtIChwbGF5ZXJDYW1lcmFEaWZmKVxuICAgIH1cbiAgICB0aGlzLnBvc2l0aW9uLnggPSBNYXRoLm1heCgwLCB0aGlzLnBvc2l0aW9uLngpXG4gIH1cbn1cblxuY2xhc3MgR2FtZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yIChyZW5kZXJhYmxlcykge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBnYW1lOiBQQVVTRUQsXG4gICAgICBzY29yZTogMCxcbiAgICAgIGNhbWVyYTogY2FtZXJhLFxuICAgICAgcmVuZGVyYWJsZXM6IHsuLi5yZW5kZXJhYmxlc30sXG4gICAgICBiYWxsczogMCxcbiAgICB9XG5cbiAgICAkLmNhbnZhcyA9IHV0aWxzLm5ld0NhbnZhcygkLmdhbWVBcmVhKVxuICAgIHRoaXMuY3R4ID0gJC5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuXG4gICAgdGhpcy5oYW5kbGVLZXlEb3duID0gdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZUtleVVwID0gdGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpXG4gICAgdGhpcy5hbmltYXRpb25Mb29wID0gdGhpcy5hbmltYXRpb25Mb29wLmJpbmQodGhpcylcbiAgICB0aGlzLmFkZFJlbmRlcmFibGUgPSB0aGlzLmFkZFJlbmRlcmFibGUuYmluZCh0aGlzKVxuICAgIHRoaXMuaW5jcmVtZW50U2NvcmUgPSB0aGlzLmluY3JlbWVudFNjb3JlLmJpbmQodGhpcylcbiAgICB0aGlzLnBsYXlIYWRvdWtlblNvdW5kID0gdGhpcy5wbGF5SGFkb3VrZW5Tb3VuZC5iaW5kKHRoaXMpXG5cbiAgICAkLnRoZW1lLmxvb3AgPSB0cnVlXG4gICAgJC50aGVtZS5sb2FkKClcbiAgICBjb25zdCBzdGFydFJvdW5kID0gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGFydFJvdW5kKVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtYXJlYScpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICQudGhlbWUucGxheSgpXG4gICAgICB0aGlzLmFuaW1hdGlvbkxvb3AoKVxuICAgICAgdGhpcy5zZXRHYW1lU3RhdGUoU1RBUlRFRClcbiAgICAgICAgLmNhcHR1cmVLZXlzKClcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGFydFJvdW5kKVxuICB9XG5cbiAgcGxheURhbmdlclNvdW5kICgpIHtcbiAgICAkLmRhbmdlci5jbG9uZU5vZGUodHJ1ZSkucGxheSgpXG4gIH1cblxuICBnZXRIYWRvdWtlbkNvdW50ICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRQbGF5ZXIoKS5zdGF0ZS5oYWRvdWtlblxuICB9XG5cbiAgaW5jSGFkb3VrZW5Db3VudCAoKSB7XG4gICAgdGhpcy5nZXRQbGF5ZXIoKS5zdGF0ZS5oYWRvdWtlbisrXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGFuaW1hdGlvbkxvb3AgKCkge1xuICAgIHRoaXMuY2xlYW5VcERlYWQoKVxuICAgIGNvbnN0IG1heEJhbGxzID0gTWF0aC5tYXgodGhpcy5nZXRTY29yZSgpLCAyMDApXG4gICAgY29uc3Qgc2hvdWxkU3Bhd24gPSB0aGlzLnN0YXRlLmJhbGxzIDwgbWF4QmFsbHMgJiYgKE1hdGgucmFuZG9tKCkgKiAyMCArIDEgPj0gMjApXG4gICAgY29uc3Qgc2hvdWxkUmFpbiA9IE1hdGgucmFuZG9tKCkgKiA1MCArIDEgPj0gNTBcbiAgICBpZiAoc2hvdWxkU3Bhd24pIHtcbiAgICAgIHNob3VsZFJhaW4gJiYgdGhpcy5wbGF5RGFuZ2VyU291bmQoKVxuICAgICAgY29uc3QgbnVtYmVyVG9TcGF3biA9IHNob3VsZFJhaW5cbiAgICAgICAgPyBNYXRoLmFicygyMClcbiAgICAgICAgOiB+fihNYXRoLnJhbmRvbSgpICogTWF0aC5tYXgoMiwgdGhpcy5nZXRTY29yZSgpIC8gNTApICsgMSlcbiAgICAgIHJlcGVhdChudW1iZXJUb1NwYXduKS5mb3JFYWNoKCgpID0+IHtcbiAgICAgICAgY29uc3QgYmFsbFR5cGVzID0gW0JhbGwwLCBCYWxsMSwgQmFsbDIsIEJhbGwzLCBCYWxsNF1cbiAgICAgICAgY29uc3QgcmFuZG9tVHlwZSA9IH5+KE1hdGgucmFuZG9tKCkgKiAoYmFsbFR5cGVzLmxlbmd0aCAtIDEpKVxuICAgICAgICB0aGlzLmFkZEJhbGwoYmFsbFR5cGVzW3JhbmRvbVR5cGVdLCBNYXRoLnJhbmRvbSgpICogMTAwMDAwKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmhhbmRsZUFsbENvbGxpc2lvbnMoKVxuXG4gICAgdGhpcy5zdGF0ZS5jYW1lcmEudXBkYXRlKClcblxuICAgIHRoaXMuZ2V0U29ydGVkUmVuZGVyYWJsZXMoKVxuICAgICAgLmZvckVhY2goZWxlbWVudCA9PiBlbGVtZW50LnJlbmRlcih0aGlzLmN0eCwgdGhpcy5zdGF0ZS5jYW1lcmEpKVxuXG4gICAgaWYgKHRoaXMuZ2V0SGVhbHRoKCkgPD0gMCAmJiAhdGhpcy5nYW1lU3RhdGVJcyhFTkRFRCkpIHtcbiAgICAgIHRoaXMuc3RhdGUucmVuZGVyYWJsZXNbUExBWUVSXzFdLmRpZSgpXG4gICAgICB0aGlzLmlnbm9yZUtleXMoKVxuICAgICAgdGhpcy5zZXRHYW1lU3RhdGUoRU5ERUQpXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJJbmZvQmFyKClcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uTG9vcClcbiAgfVxuXG4gIGNsZWFuVXBEZWFkICgpIHtcbiAgICBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRlLnJlbmRlcmFibGVzKS5mb3JFYWNoKChba2V5LCByZW5kZXJhYmxlXSkgPT4ge1xuICAgICAgaWYgKCFyZW5kZXJhYmxlLnN0YXRlLmRpc3BsYXkpIHtcbiAgICAgICAgaWYgKHJlbmRlcmFibGUucHJvcHMubmFtZSA9PT0gJ2JhbGwnKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5iYWxscy0tXG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuc3RhdGUucmVuZGVyYWJsZXNba2V5XVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChyZW5kZXJhYmxlLnByb3BzLm5hbWUgIT09ICdiYWxsJykgcmV0dXJuXG4gICAgICBpZiAoKE1hdGguYWJzKHJlbmRlcmFibGUuc3RhdGUucG9zaXRpb24ueCAtIHRoaXMuc3RhdGUuY2FtZXJhLnBvc2l0aW9uLngpKSA+IEdBTUVfV0lEVEggKiA1KSB7XG4gICAgICAgIHRoaXMuc3RhdGUuYmFsbHMtLVxuICAgICAgICBkZWxldGUgdGhpcy5zdGF0ZS5yZW5kZXJhYmxlc1trZXldXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGdldEhlYWx0aCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucmVuZGVyYWJsZXNbUExBWUVSXzFdLnN0YXRlLmhlYWx0aFxuICB9XG5cbiAgaW5jSGVhbHRoICgpIHtcbiAgICB0aGlzLnBsYXlQb3BTb3VuZCgpXG4gICAgdGhpcy5zdGF0ZS5yZW5kZXJhYmxlc1tQTEFZRVJfMV0uc3RhdGUuaGVhbHRoID0gTWF0aC5taW4odGhpcy5zdGF0ZS5yZW5kZXJhYmxlc1tQTEFZRVJfMV0uc3RhdGUuaGVhbHRoICsgMC4yNSwgMTAwKVxuICB9XG5cbiAgcmVuZGVyR2FtZU92ZXIgKCkge1xuICAgIHRoaXMuY3R4LmZvbnQgPSBgNDhweCBcIiR7Rk9OVF9OQU1FfVwiYFxuICAgIHRoaXMuY3R4Lmdsb2JhbEFscGhhID0gMVxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjZGMyZjRjJ1xuICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInXG4gICAgdGhpcy5jdHguZmlsbFRleHQoJ05PVyBZT1UgSEFWRSBUTyBTVEFSVCBGUk9NIFRIRSBCRUdJTk5JTkcuJyxcbiAgICAgIEdBTUVfV0lEVEggLyAyLCBHQU1FX0hFSUdIVCAvIDIpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJlbmRlckluZm9CYXIgKCkge1xuICAgIGlmICh0aGlzLmdhbWVTdGF0ZUlzKEVOREVEKSkgcmV0dXJuIHRoaXMucmVuZGVyR2FtZU92ZXIoKVxuXG4gICAgdGhpcy5jdHguZm9udCA9IGA0OHB4IFwiJHtGT05UX05BTUV9XCJgXG4gICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSAxXG4gICAgY29uc3QgaGVhbHRoID0gfn50aGlzLmdldEhlYWx0aCgpXG4gICAgY29uc3QgaHVlID0gKCgxIC0gKDEwMCAtIGhlYWx0aCkgLyAxMDApICogMTIwKVxuICAgIGNvbnN0IGNvbG9yID0gYGhzbCgke2h1ZX0sIDEwMCUsIDUwJSlgXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY29sb3JcbiAgICB0aGlzLmN0eC5maWxsVGV4dChgSGVhbHRoOiAke2hlYWx0aH1gLCA1MCwgNTApXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJyNmZmYnXG4gICAgdGhpcy5jdHguZmlsbFRleHQoYFNjb3JlOiAke3RoaXMuZ2V0U2NvcmUoKX1gLCA1MCwgMTAwKVxuICAgIHRoaXMuY3R4LmZpbGxUZXh0KGBTcGF3bnM6ICR7dGhpcy5zdGF0ZS5iYWxsc31gLCBHQU1FX1dJRFRIIC0gMzUwLCA1MClcbiAgICB0aGlzLmN0eC5maWxsVGV4dChgU3VwZXI6ICR7dGhpcy5nZXRIYWRvdWtlbkNvdW50KCl9YCwgR0FNRV9XSURUSCAtIDM1MCwgMTAwKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGFkZFJlbmRlcmFibGUgKGtleSwgcmVuZGVyYWJsZSkge1xuICAgIHRoaXMuc3RhdGUucmVuZGVyYWJsZXNba2V5XSA9IHJlbmRlcmFibGVcbiAgfVxuXG4gIGhhbmRsZUtleURvd24gKGUpIHtcbiAgICBjb25zdCBoYW5kbGVBY3Rpb24gPSAoYWN0aW9uKSA9PlxuICAgICAgdGhpcy5nYW1lU3RhdGVJcyhTVEFSVEVEKVxuICAgICAgICA/IHRoaXMuc3RhdGUucmVuZGVyYWJsZXNbUExBWUVSXzFdLmhhbmRsZUFjdGlvbihhY3Rpb24sIHRoaXMuYWRkUmVuZGVyYWJsZSwgdGhpcy5wbGF5SGFkb3VrZW5Tb3VuZClcbiAgICAgICAgOiB0aGlzXG5cbiAgICBPYmplY3Qua2V5cyhQTEFZRVJfS0VZUykuaW5jbHVkZXMoZS5rZXkpICYmIGhhbmRsZUFjdGlvbihQTEFZRVJfS0VZU1tlLmtleV0pXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaGFuZGxlS2V5VXAgKGUpIHtcbiAgICBjb25zdCBoYW5kbGVBY3Rpb24gPSAoYWN0aW9uKSA9PlxuICAgICAgdGhpcy5nYW1lU3RhdGVJcyhTVEFSVEVEKVxuICAgICAgICA/IHRoaXMuc3RhdGUucmVuZGVyYWJsZXNbUExBWUVSXzFdLmhhbmRsZUFjdGlvblN0b3AoYWN0aW9uKVxuICAgICAgICA6IHRoaXNcblxuICAgIE9iamVjdC5rZXlzKFBMQVlFUl9LRVlTKS5pbmNsdWRlcyhlLmtleSkgJiYgaGFuZGxlQWN0aW9uKFBMQVlFUl9LRVlTW2Uua2V5XSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBkb0F0dGFjayAocGxheWVyKSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGdldFBsYXllciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucmVuZGVyYWJsZXNbUExBWUVSXzFdXG4gIH1cblxuICBjb2xsaXNpb25Gb3JtdWxhICh2MSwgdjIsIG0xLCBtMikge1xuICAgIHJldHVybiAodjEgKiAobTEgLSBtMikgKyAyICogbTIgKiB2MikgLyAobTEgKyBtMilcbiAgfVxuXG4gIGhhbmRsZUNvbGxpc2lvbiAoYm9keSwgYm9keTIsIG1hZ2ljKSB7XG4gICAgLy8gaWYgKCFib2R5LnByb3BzLmRhbWFnZXMpIHJldHVybiB0aGlzXG4gICAgaWYgKGJvZHkuc3RhdGUuZHlpbmcgfHwgYm9keTIuc3RhdGUuZHlpbmcgfHwgYm9keS5zdGF0ZS5kZWFkIHx8IGJvZHkyLnN0YXRlLmRlYWQpIHJldHVybiB0aGlzXG5cbiAgICBjb25zdCBwMSA9IGJvZHkyLnN0YXRlLnBvc2l0aW9uXG4gICAgY29uc3QgcDIgPSBib2R5LnN0YXRlLnBvc2l0aW9uXG4gICAgY29uc3QgcjEgPSBib2R5LnByb3BzLnJhZGl1cyB8fCBib2R5LmdldEN1cnJlbnRBbmltYXRpb25GcmFtZSgpLndpZHRoIC8gMlxuICAgIGNvbnN0IHIyID0gYm9keTIucHJvcHMucmFkaXVzIHx8IGJvZHkyLmdldEN1cnJlbnRBbmltYXRpb25GcmFtZSgpLndpZHRoIC8gMlxuICAgIGNvbnN0IHYxID0gYm9keTIuc3RhdGUudmVsb2NpdHlcbiAgICBjb25zdCB2MiA9IGJvZHkuc3RhdGUudmVsb2NpdHlcbiAgICBjb25zdCBtMSA9IGJvZHkyLnByb3BzLm1hc3NcbiAgICBjb25zdCBtMiA9IGJvZHkucHJvcHMubWFzc1xuICAgIGNvbnN0IG1pbkVsYXN0aWNpdHkgPSBNYXRoLm1pbihib2R5Mi5wcm9wcy5lbGFzdGljaXR5LCBib2R5LnByb3BzLmVsYXN0aWNpdHkpXG5cbiAgICBjb25zdCBkZWx0YVBvc2l0aW9uID0ge1xuICAgICAgeDogcDEueCAtIHAyLngsXG4gICAgICB5OiBwMS55IC0gcDIueVxuICAgIH1cblxuICAgIGNvbnN0IHN1bVJhZGl1cyA9IHIxICsgcjJcbiAgICBjb25zdCBtYWduaXR1ZGUgPSB1dGlscy52ZWN0b3JMZW5ndGgoZGVsdGFQb3NpdGlvbilcblxuICAgIGlmIChtYWduaXR1ZGUgPiBzdW1SYWRpdXMpIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgY29uc3Qgc3VtT2ZNYXNzZXMgPSBtMSArIG0yXG4gICAgaWYgKFtib2R5LnByb3BzLm5hbWUgfHwgYm9keTIucHJvcHMubmFtZV0uaW5jbHVkZXMoJ0Zsb29yJykpIHtcbiAgICB9XG4gICAgY29uc3Qgbm9ybWFsaXplRGVsdGFQb3NpdGlvbiA9IHV0aWxzLm5vcm1hbGl6ZShkZWx0YVBvc2l0aW9uKVxuXG4gICAgY29uc3QgZGVsdGFUYW5nZW50ID0ge1xuICAgICAgeDogbm9ybWFsaXplRGVsdGFQb3NpdGlvbi55LFxuICAgICAgeTogLW5vcm1hbGl6ZURlbHRhUG9zaXRpb24ueFxuICAgIH1cblxuICAgIGNvbnN0IGNvcnJlY3Rpb24gPSB1dGlscy52ZWN0b3JNdWx0aXBseShub3JtYWxpemVEZWx0YVBvc2l0aW9uLCByMSArIHIyIC0gbWFnbml0dWRlKVxuICAgIGJvZHkyLnN0YXRlLnBvc2l0aW9uID0gdXRpbHMudmVjdG9yQWRkKHAxLCB1dGlscy52ZWN0b3JNdWx0aXBseShjb3JyZWN0aW9uLCBtMiAvIHN1bU9mTWFzc2VzKSlcbiAgICBib2R5LnN0YXRlLnBvc2l0aW9uID0gdXRpbHMudmVjdG9yQWRkKHAyLCB1dGlscy52ZWN0b3JNdWx0aXBseShjb3JyZWN0aW9uLCAtbTEgLyBzdW1PZk1hc3NlcykpXG5cbiAgICBjb25zdCBtYWduaXR1ZGVWZWxvY2l0eTEgPSB1dGlscy52ZWN0b3JMZW5ndGgoXG4gICAgICB1dGlscy52ZWN0b3JNdWx0aXBseShub3JtYWxpemVEZWx0YVBvc2l0aW9uLCB1dGlscy52ZWN0b3JEb3QodjEsIG5vcm1hbGl6ZURlbHRhUG9zaXRpb24pKVxuICAgIClcblxuICAgIGNvbnN0IG1hZ25pdHVkZVZlbG9jaXR5MiA9IHV0aWxzLnZlY3Rvckxlbmd0aChcbiAgICAgIHV0aWxzLnZlY3Rvck11bHRpcGx5KG5vcm1hbGl6ZURlbHRhUG9zaXRpb24sIHV0aWxzLnZlY3RvckRvdCh2Miwgbm9ybWFsaXplRGVsdGFQb3NpdGlvbikpXG4gICAgKVxuXG4gICAgYm9keS5zdGF0ZS52ZWxvY2l0eSA9IHV0aWxzLnZlY3RvckFkZChcbiAgICAgIHV0aWxzLnZlY3Rvck11bHRpcGx5KGRlbHRhVGFuZ2VudCwgdXRpbHMudmVjdG9yRG90KHYyLCBkZWx0YVRhbmdlbnQpKSxcbiAgICAgIHV0aWxzLnZlY3Rvck11bHRpcGx5KG5vcm1hbGl6ZURlbHRhUG9zaXRpb24sXG4gICAgICAgIChtaW5FbGFzdGljaXR5ICogbTEgKiAobWFnbml0dWRlVmVsb2NpdHkxIC0gbWFnbml0dWRlVmVsb2NpdHkyKSArXG4gICAgICAgIG0yICogbWFnbml0dWRlVmVsb2NpdHkyICsgbTEgKiBtYWduaXR1ZGVWZWxvY2l0eTEpIC8gc3VtT2ZNYXNzZXNcbiAgICAgIClcbiAgICApXG5cbiAgICBib2R5Mi5zdGF0ZS52ZWxvY2l0eSA9IHV0aWxzLnZlY3RvckFkZChcbiAgICAgIHV0aWxzLnZlY3Rvck11bHRpcGx5KGRlbHRhVGFuZ2VudCwgdXRpbHMudmVjdG9yRG90KHYxLCBkZWx0YVRhbmdlbnQpKSxcbiAgICAgIHV0aWxzLnZlY3Rvck11bHRpcGx5KG5vcm1hbGl6ZURlbHRhUG9zaXRpb24sXG4gICAgICAgIChtaW5FbGFzdGljaXR5ICogbTIgKiAobWFnbml0dWRlVmVsb2NpdHkyIC0gbWFnbml0dWRlVmVsb2NpdHkxKSArXG4gICAgICAgIG0xICogbWFnbml0dWRlVmVsb2NpdHkxICsgbTIgKiBtYWduaXR1ZGVWZWxvY2l0eTIpIC8gc3VtT2ZNYXNzZXMpXG4gICAgKVxuXG4gICAgaWYgKG1hZ2ljKSB7XG4gICAgICBpZiAodGhpcy5nZXRQbGF5ZXIoKS5zdGF0ZS5zdXBlckF0dGFjaykge1xuICAgICAgICB0aGlzLmdldFBsYXllcigpLnN0YXRlLnZlbG9jaXR5LnkgPSAtMTBcbiAgICAgIH1cbiAgICAgIGJvZHkyLnN0YXRlLnZlbG9jaXR5ID0gdXRpbHMudmVjdG9yTXVsdGlwbHkoYm9keTIuc3RhdGUudmVsb2NpdHksIG1hZ2ljKVxuICAgIH1cblxuICAgIGlmIChbYm9keSwgYm9keTJdLmluY2x1ZGVzKHRoaXMuZ2V0UGxheWVyKCkpICYmICF0aGlzLmdldFBsYXllcigpLnN0YXRlLmF0dGFja2luZykge1xuICAgICAgW2JvZHksIGJvZHkyXS5mb3JFYWNoKGJvZHkgPT4ge1xuICAgICAgICBpZiAoYm9keSA9PT0gdGhpcy5nZXRQbGF5ZXIoKSkge1xuICAgICAgICAgIGJvZHkuc3RhdGUuaGVhbHRoIC09IDFcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaGFuZGxlQWxsQ29sbGlzaW9ucyAoKSB7XG4gICAgY29uc3QgYWxsQm9kaWVzID0gWy4uLnRoaXMuZ2V0QWxsQm9kaWVzKCldXG5cbiAgICBhbGxCb2RpZXMuZm9yRWFjaCgoYm9keSwgaW5kZXgpID0+IHtcbiAgICAgIGFsbEJvZGllcy5zbGljZShpbmRleCArIDEpLmZvckVhY2goYm9keTIgPT4gdGhpcy5oYW5kbGVDb2xsaXNpb24oYm9keSwgYm9keTIpKVxuICAgIH0pXG5cbiAgICBjb25zdCBjb2xsaXNpb25zV2l0aEdyb3VuZCA9IGFsbEJvZGllcy5maWx0ZXIoYm9keSA9PlxuICAgICAgYm9keSAhPT0gdGhpcy5nZXRQbGF5ZXIoKSAmJiBib2R5LnN0YXRlLnBvc2l0aW9uLnkgPj0gR1JPVU5ELnkgLSA1MFxuICAgIClcblxuICAgIGNvbGxpc2lvbnNXaXRoR3JvdW5kLmZvckVhY2goYm9keSA9PiB7XG4gICAgICBpZiAoYm9keS5zdGF0ZS5keWluZykge1xuICAgICAgICBib2R5LnN0YXRlLnZlbG9jaXR5LnkgPSAwXG4gICAgICAgIGJvZHkuc3RhdGUudmVsb2NpdHkueCA9IDBcbiAgICAgIH1cbiAgICAgIGJvZHkuc3RhdGUudmVsb2NpdHkueSAqPSAtMC44XG4gICAgfSlcblxuICAgIGlmICh0aGlzLmdldFBsYXllcigpLnN0YXRlLmF0dGFja2luZykge1xuICAgICAgYWxsQm9kaWVzLmZvckVhY2goKGJvZHkpID0+IHtcbiAgICAgICAgY29uc3Qgc3VwZXJSYWRpdXMgPSB7XG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIHZlbG9jaXR5OiB7Li4udGhpcy5nZXRQbGF5ZXIoKS5zdGF0ZS52ZWxvY2l0eX0sXG4gICAgICAgICAgICBwb3NpdGlvbjogey4uLnRoaXMuZ2V0UGxheWVyKCkuc3RhdGUucG9zaXRpb259XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgbWFzczogMTAwLFxuICAgICAgICAgICAgcmFkaXVzOiB0aGlzLmdldFBsYXllcigpLnN0YXRlLnN1cGVyQXR0YWNrID8gODAwIDogMTUwLFxuICAgICAgICAgICAgZWxhc3RpY2l0eTogMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBib2R5ICE9PSB0aGlzLmdldFBsYXllcigpICYmIHRoaXMuaGFuZGxlQ29sbGlzaW9uKFxuICAgICAgICAgIHN1cGVyUmFkaXVzLCBib2R5LCAxLjI1KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgYWRkQmFsbCAodHlwZSwga2V5KSB7XG4gICAgdGhpcy5zdGF0ZS5iYWxscysrXG4gICAgY29uc3QgbmV3QmFsbCA9IG1peGluQWxsKFtSZW5kZXJhYmxlLCBNb3ZlcywgQWNjZWxlcmF0ZXMsIEJsb2NrcyxcbiAgICAgIERpZXMsIHR5cGUsIENvbG91cmZ1bCwgVmVsb2NpdHlLaWxscywgRW1pdHNQYXJ0aWNsZXNdLCB7XG4gICAgICBzdGF0ZToge1xuICAgICAgICBpbmNyZW1lbnRTY29yZTogdGhpcy5pbmNyZW1lbnRTY29yZSxcbiAgICAgICAgYWRkUmVuZGVyYWJsZTogdGhpcy5hZGRSZW5kZXJhYmxlLFxuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIHg6IHRoaXMuc3RhdGUuY2FtZXJhLnBvc2l0aW9uLnggKyB+fihNYXRoLnJhbmRvbSgpICogR0FNRV9XSURUSCksXG4gICAgICAgICAgeTogfn4oTWF0aC5yYW5kb20oKSAqIEdBTUVfSEVJR0hUKSAtIEdST1VORC55XG4gICAgICAgIH0sXG4gICAgICAgIHZlbG9jaXR5OiB7XG4gICAgICAgICAgeTogLTEwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuYWRkUmVuZGVyYWJsZShgQkFMTCR7a2V5fWAsIG5ld0JhbGwpXG4gIH1cblxuICBkb2VzUmFuZ2VPdmVybGFwIChzdGFydCwgZW5kLCBzdGFydDIsIGVuZDIsIHRvbGVyYW5jZSkge1xuICAgIHJldHVybiAoKCgoZW5kIC0gc3RhcnQyKSA+IHRvbGVyYW5jZSkgJiYgKChlbmQyIC0gc3RhcnQpID4gdG9sZXJhbmNlKSkpXG4gIH1cblxuICBpc0NvbGxpc2lvbiAodjEsIHYyKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9lc1JhbmdlT3ZlcmxhcCh2MS54MSwgdjEueDIsIHYyLngxLCB2Mi54MiwgVE9MRVJBTkNFKSAmJlxuICAgICAgICAgIHRoaXMuZG9lc1JhbmdlT3ZlcmxhcCh2MS55MSwgdjEueTIsIHYyLnkxLCB2Mi55MiwgVE9MRVJBTkNFKVxuICB9XG5cbiAgZ2V0U29ydGVkUmVuZGVyYWJsZXMgKCkge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuc3RhdGUucmVuZGVyYWJsZXMpLnNvcnQoXG4gICAgICAoYSwgYikgPT4gYS5wcm9wcy56SW5kZXggLSBiLnByb3BzLnpJbmRleFxuICAgIClcbiAgfVxuXG4gIGdldEFsbEJvZGllcyAoYm9kaWVzID0gW10pIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLnN0YXRlLnJlbmRlcmFibGVzKS5maWx0ZXIocmVuZGVyYWJsZSA9PlxuICAgICAgcmVuZGVyYWJsZSAmJiByZW5kZXJhYmxlLnByb3BzLmJsb2NrcyAmJiAhYm9kaWVzLmluY2x1ZGVzKHJlbmRlcmFibGUpXG4gICAgKVxuICB9XG5cbiAgZ2V0R2FtZVN0YXRlICgpIHsgcmV0dXJuIHRoaXMuc3RhdGUuZ2FtZSB9XG5cbiAgZ2FtZVN0YXRlSXMgKHN0YXRlKSB7IHJldHVybiAodGhpcy5nZXRHYW1lU3RhdGUoKSA9PT0gc3RhdGUpIH1cblxuICBnZXRTY29yZSAoKSB7IHJldHVybiB0aGlzLnN0YXRlLnNjb3JlIH1cblxuICBpZ25vcmVLZXlzICgpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBjYXB0dXJlS2V5cyAoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bilcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuaGFuZGxlS2V5VXApXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJlc2V0U2NvcmUgKCkge1xuICAgIHRoaXMuc3RhdGUuc2NvcmUgPSAwXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHVwZGF0ZUluZm9CYXIgKHRleHQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc2V0R2FtZVN0YXRlIChzdGF0ZSkge1xuICAgIHRoaXMuc3RhdGUuZ2FtZSA9IHN0YXRlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHBsYXlTY29yZVNvdW5kICgpIHtcbiAgICBjb25zdCBzY29yZSA9IHRoaXMuZ2V0U2NvcmUoKVxuICAgIGxldCBzb3VuZFRvUGxheSA9IG51bGxcbiAgICBpZiAoc2NvcmUgPj0gMjAgJiYgISQua2lsbGluZ3NwcmVlLmhhc1BsYXllZCkgc291bmRUb1BsYXkgPSAkLmtpbGxpbmdzcHJlZVxuICAgIGlmIChzY29yZSA+PSA1MCAmJiAhJC5yYW1wYWdlLmhhc1BsYXllZCkgc291bmRUb1BsYXkgPSAkLnJhbXBhZ2VcbiAgICBpZiAoc2NvcmUgPj0gMTUwICYmICEkLm93bmFnZS5oYXNQbGF5ZWQpIHNvdW5kVG9QbGF5ID0gJC5vd25hZ2VcbiAgICBpZiAoc2NvcmUgPj0gMjAwICYmICEkLnVuc3RvcHBhYmxlLmhhc1BsYXllZCkgc291bmRUb1BsYXkgPSAkLnVuc3RvcHBhYmxlXG4gICAgaWYgKHNjb3JlID49IDMwMCAmJiAhJC5nb2RsaWtlLmhhc1BsYXllZCkgc291bmRUb1BsYXkgPSAkLmdvZGxpa2VcbiAgICBpZiAoIXNvdW5kVG9QbGF5KSByZXR1cm4gdGhpc1xuICAgIHRoaXMuaW5jSGFkb3VrZW5Db3VudCgpXG4gICAgc291bmRUb1BsYXkuaGFzUGxheWVkID0gdHJ1ZVxuICAgIHNvdW5kVG9QbGF5LnBsYXkoKVxuICB9XG5cbiAgaW5jcmVtZW50U2NvcmUgKHBsYXllcikge1xuICAgIHRoaXMucGxheVNjb3JlU291bmQoKVxuICAgIHRoaXMuaW5jSGVhbHRoKClcbiAgICB0aGlzLnN0YXRlLnNjb3JlKytcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcGxheVBvcFNvdW5kICgpIHtcbiAgICAkLnBvcC5jbG9uZU5vZGUodHJ1ZSkucGxheSgpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHBsYXlIYWRvdWtlblNvdW5kICgpIHtcbiAgICAkLmhhZG91a2VuLmNsb25lTm9kZSh0cnVlKS5wbGF5KClcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbmNvbnN0IG1haW4gPSAoKSA9PiB7XG4gIGNvbnN0IHJlbmRlcmFibGVzID0ge1xuICAgIFtCQUNLR1JPVU5EX0dST1VORF06IGdyb3VuZCxcbiAgICBbQkFDS0dST1VORF9TS1ldOiBza3ksXG4gICAgW0JBQ0tHUk9VTkRfQ0xPVURTXTogY2xvdWRzLFxuICAgIFtQTEFZRVJfMV06IHBsYXllck9uZVxuICB9XG5cbiAgZG9jdW1lbnQuZm9udHMubG9hZChgMTBwdCBcIiR7Rk9OVF9OQU1FfVwiYClcblxuICBjb25zdCBnYW1lID0gbmV3IEdhbWVFbmdpbmUocmVuZGVyYWJsZXMpXG59XG5cbm1haW4oKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==